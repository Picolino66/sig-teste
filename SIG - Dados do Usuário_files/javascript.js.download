/* Arquivo Compactado */var CFG={"devel":false,"script_local":"https:\/\/sig.ufla.br\/javascript\/javascript.js.php?v=3","localhost":false,"wwwroot":"https:\/\/sig.ufla.br\/","dominio":"sig.ufla.br","dominio_cookies":"sig.ufla.br","path":"\/","navegador":"chrome","engine":"webkit","exp":{"en_us":{"digitos":{"titulo":"Utilize apenas d\u00edgitos, ex.: 1 ou 2 ou 3...","exp":"\/^[0-9]*$\/","fim":"\/^[0-9]*$\/","mascara":"#"},"letras":{"titulo":"Utilize apenas letras, ex.: abc","exp":"\/^[A-Za-z]*$\/","fim":"\/^[A-Za-z]*$\/","mascara":"x"},"moeda":{"titulo":"Campo num\u00e9rico, utilize \",\" para separar decimais, ex.: 1.000,99 ou -10 ou -10,99 ou 1 ...","exp":"\/^[\\-]?(0[,]?[0-9]{0,2}|[1-9]{1}[0-9\\.]*[,]?[0-9]{0,2})?$\/","fim":"\/^([\\-]?0([,][0-9]{1,2})?|[\\-]?0[,][0-9]{1,2}|[\\-]?[1-9]{1}[0-9]{0,2}([\\.]?[0-9]{3})*([,]{1}[0-9]{1,2})?)$\/","mascara":"#.##0,00"},"int":{"titulo":"Utilize um n\u00famero inteiro, ex.: 1 ou -200 ou 5.000 ...","exp":"\/^([\\-]?([0-9\\.]*)?)$\/","fim":"\/^(0|[\\-]?[1-9]{1}[0-9]{0,2}([\\.]?[0-9]{3})*)$\/","mascara":"#"},"float":{"titulo":"Campo num\u00e9rico, utilize \",\" para separar decimais, ex.: 1.000,99 ou -10 ou -10,99 ou 1 ...","exemplo":"0 ou -0,123 ou 1000,1 ou -1000,1","exp":"\/^[\\-]?([0-9\\.]*[,]?[0-9]*)?$\/","fim":"\/^(0|[\\-]?0[,][0-9]+|[\\-]?[1-9]{1}[0-9]{0,2}([\\.]?[0-9]{3})*([,]{1}[0-9]+)?)$\/","mascara":"#"},"uint":{"titulo":"Utilize um n\u00famero inteiro, ex.: 1 ou -200 ou 5.000 ...","exp":"\/^(0|([0-9\\.]*)?)$\/","fim":"\/^(0|[1-9]{1}[0-9]{0,2}([\\.]?[0-9]{3})*)$\/","mascara":"#"},"ufloat":{"titulo":"Campo num\u00e9rico, utilize \",\" para separar decimais, ex.: 1.000,99 ou 50 ou 1 ...","exp":"\/^([0-9\\.]*[,]?[0-9]*)?$\/","fim":"\/^(0|0[,][0-9]+|[1-9]{1}[0-9]{0,2}([\\.]?[0-9]{3})*([,]{1}[0-9]+)?)$\/","mascara":"#"},"cep":{"titulo":"Preencha o CEP com o formato XXXXX-XXX (cinco n\u00fameros, h\u00edfen e tr\u00eas n\u00fameros).","exp":"\/^[0-9]{5}-[0-9]{3}$\/","fim":"\/^[0-9]{5}-[0-9]{3}$\/","mascara":"00000-000"},"cnpj":{"titulo":"Preencha o CNPJ apenas com n\u00fameros, inclusive o digito verificador.","exp":"\/^[0-9]{14}$\/","fim":"\/^[0-9]{14}$\/","mascara":"00000000000000"},"cpf":{"titulo":"Preencha o CPF apenas com n\u00fameros, inclusive o digito verificador.","exp":"\/^[0-9]{11}$\/","fim":"\/^[0-9]{11}$\/","mascara":"00000000000"},"telefone":{"titulo":"Preencha com um telefone no formato (XX) XXXX-XXXX e, quando permitido, incluir o c\u00f3digo do pa\u00eds e\/ou o ramal.","exp":"\/^(\\+([0-9]+)[ ])?\\(([0-9]+)\\)[ ]([0-9]{4,5}[\\-][0-9]{4})([ ]([0-9]+))?$\/","fim":"\/^(\\+([0-9]+)[ ])?\\(([0-9]+)\\)[ ]([0-9]{4,5}[\\-][0-9]{4})([ ]([0-9]+))?$\/","mascara":"X"}},"pt_br":{"digitos":{"titulo":"Utilize apenas d\u00edgitos, ex.: 1 ou 2 ou 3...","exp":"\/^[0-9]*$\/","fim":"\/^[0-9]*$\/","mascara":"#"},"letras":{"titulo":"Utilize apenas letras, ex.: abc","exp":"\/^[A-Za-z]*$\/","fim":"\/^[A-Za-z]*$\/","mascara":"x"},"moeda":{"titulo":"Campo num\u00e9rico, utilize \",\" para separar decimais, ex.: 1.000,99 ou -10 ou -10,99 ou 1 ...","exp":"\/^[\\-]?(0[,]?[0-9]{0,2}|[1-9]{1}[0-9\\.]*[,]?[0-9]{0,2})?$\/","fim":"\/^([\\-]?0([,][0-9]{1,2})?|[\\-]?0[,][0-9]{1,2}|[\\-]?[1-9]{1}[0-9]{0,2}([\\.]?[0-9]{3})*([,]{1}[0-9]{1,2})?)$\/","mascara":"#.##0,00"},"int":{"titulo":"Utilize um n\u00famero inteiro, ex.: 1 ou -200 ou 5.000 ...","exp":"\/^([\\-]?([0-9\\.]*)?)$\/","fim":"\/^(0|[\\-]?[1-9]{1}[0-9]{0,2}([\\.]?[0-9]{3})*)$\/","mascara":"#"},"float":{"titulo":"Campo num\u00e9rico, utilize \",\" para separar decimais, ex.: 1.000,99 ou -10 ou -10,99 ou 1 ...","exemplo":"0 ou -0,123 ou 1000,1 ou -1000,1","exp":"\/^[\\-]?([0-9\\.]*[,]?[0-9]*)?$\/","fim":"\/^(0|[\\-]?0[,][0-9]+|[\\-]?[1-9]{1}[0-9]{0,2}([\\.]?[0-9]{3})*([,]{1}[0-9]+)?)$\/","mascara":"#"},"uint":{"titulo":"Utilize um n\u00famero inteiro, ex.: 1 ou -200 ou 5.000 ...","exp":"\/^(0|([0-9\\.]*)?)$\/","fim":"\/^(0|[1-9]{1}[0-9]{0,2}([\\.]?[0-9]{3})*)$\/","mascara":"#"},"ufloat":{"titulo":"Campo num\u00e9rico, utilize \",\" para separar decimais, ex.: 1.000,99 ou 50 ou 1 ...","exp":"\/^([0-9\\.]*[,]?[0-9]*)?$\/","fim":"\/^(0|0[,][0-9]+|[1-9]{1}[0-9]{0,2}([\\.]?[0-9]{3})*([,]{1}[0-9]+)?)$\/","mascara":"#"},"cep":{"titulo":"Preencha o CEP com o formato XXXXX-XXX (cinco n\u00fameros, h\u00edfen e tr\u00eas n\u00fameros).","exp":"\/^[0-9]{5}-[0-9]{3}$\/","fim":"\/^[0-9]{5}-[0-9]{3}$\/","mascara":"00000-000"},"cnpj":{"titulo":"Preencha o CNPJ apenas com n\u00fameros, inclusive o digito verificador.","exp":"\/^[0-9]{14}$\/","fim":"\/^[0-9]{14}$\/","mascara":"00000000000000"},"cpf":{"titulo":"Preencha o CPF apenas com n\u00fameros, inclusive o digito verificador.","exp":"\/^[0-9]{11}$\/","fim":"\/^[0-9]{11}$\/","mascara":"00000000000"},"telefone":{"titulo":"Preencha com um telefone no formato (XX) XXXX-XXXX e, quando permitido, incluir o c\u00f3digo do pa\u00eds e\/ou o ramal.","exp":"\/^(\\+([0-9]+)[ ])?\\(([0-9]+)\\)[ ]([0-9]{4,5}[\\-][0-9]{4})([ ]([0-9]+))?$\/","fim":"\/^(\\+([0-9]+)[ ])?\\(([0-9]+)\\)[ ]([0-9]{4,5}[\\-][0-9]{4})([ ]([0-9]+))?$\/","mascara":"X"}}},"localidades":{"en_us":{"milhar":".","decimal":","},"pt_br":{"milhar":".","decimal":","}}}; var GLB = {};function registrar_onload(e){GLB.executar[GLB.executar.length]=e}function carregar_scripts(t){if(0<GLB.scripts.length){var e=document.getElementsByTagName("head")[0],a=GLB.scripts.shift();a.async=!0,a.onreadystatechange=a.onload=function(){var e=this.readyState;e&&!/loaded|complete/.test(e)||carregar_scripts(t)};try{e.appendChild(a)}catch(e){window.alert("Erro: "+e.message+"\n\nRecomenda-se desabilitar o JavaScript.")}}else iniciar(t,!1,!0)}function inserir_apos(e,t,a){a.nextSibling?e.insertBefore(t,a.nextSibling):e.appendChild(t)}function inserir_inicio(e,t){e.hasChildNodes()?e.insertBefore(t,e.firstChild):e.appendChild(t)}function controle_tempo_sessao(){this.ajax=new class_ajax,this.revalidar=!1,this.janela_aviso=null,this.timer=null;var o=this;this.fechar_aviso=function(){o.janela_aviso.style.display="none",document.body.removeChild(o.janela_aviso),o.janela_aviso=null,o.revalidar=!0,clearTimeout(o.timer),o.consultar_tempo_sessao()},this.aletar_tempo_sessao=function(){if(null===o.janela_aviso){if(GLB.janela_modal_ativa)return void o.agendar_consulta();o.janela_aviso=criar_elemento("div",{class:"aviso"}),document.body.appendChild(o.janela_aviso)}var e=criar_elemento("div",{}),t=new Date(GLB.tempo_sessao),a="00"+t.getSeconds();a=a.substring(a.length-2);var i="00"+t.getMinutes();i=i.substring(i.length-2),e.innerHTML="<b>Atenção:</b> sua sessão irá expirar às <b>"+t.getHours()+":"+i+":"+a+"</b>";var n=criar_elemento("div",{},{marginTop:"1em",textAlign:"center"}),r=criar_elemento("a",{},{fontSize:"small"},"Fechar aviso e renovar a sessão");r.onclick=function(){return o.fechar_aviso(),!1},n.appendChild(r),o.janela_aviso.innerHTML="",o.janela_aviso.appendChild(e),o.janela_aviso.appendChild(n),o.agendar_consulta()},this.atualizar_tempo_sessao=function(e){var t=e.get_retorno("text");if(t&&t.match(/^\d+$/g)){var a=parseInt(t);a<=0?window.frameElement&&window.parent.GLB.janela_modal_ativa.visivel?window.parent.location.href=CFG.wwwroot+"index.php":window.location.href=CFG.wwwroot+"index.php":(GLB.tempo_sessao+=1e3*a,a<=60?o.aletar_tempo_sessao():o.agendar_consulta())}},this.consultar_tempo_sessao=function(){var e=CFG.wwwroot+"/webservice/tempo_sessao.php";o.revalidar&&(e+="?revalidar=1",o.revalidar=!1),o.ajax.set_callback([o,"atualizar_tempo_sessao"]),GLB.tempo_sessao=(new Date).getTime(),o.ajax.consultar("GET",e,!0,null)},this.agendar_consulta=function(){var e,t=GLB.tempo_sessao-(new Date).getTime();6e4<t?(o.janela_aviso&&o.fechar_aviso(),e=t-6e4):3e4<t?e=3e4:0<t&&(e=1e3+t),o.timer=setTimeout(o.consultar_tempo_sessao,e)}}function iniciar(foco,executar_scripts,rolar){if(document.getElementById("menu_usuario_alt")&&ajustar_layout(),window.onkeydown=checar_tecla,window.onclick=checar_click,window.onpopstate=mudar_pagina,GLB.url_inicial)try{history.replaceState({url:GLB.url_inicial},"",GLB.url_inicial),GLB.url_inicial=null}catch(e){console.log(e)}if(executar_scripts)for(var scripts=document.getElementsByTagName("script"),l=scripts.length,i=0;i<l;i++){var src=scripts.item(i).getAttribute("src");if(null!=src&&src!=CFG.script_local){var conteudo=get_conteudo(src);0<conteudo.length&&eval(conteudo)}}if(window.frameElement&&window.parent.GLB.janela_modal_ativa.visivel){var div_container=document.getElementById("container");if(div_container){var div_titulo=document.getElementById("titulo_pagina");div_titulo&&div_container.removeChild(div_titulo);var div_navegacao=document.getElementById("navegacao");div_navegacao&&div_container.removeChild(div_navegacao);var div_conteudo=document.getElementById("conteudo"),div_centro=document.getElementById("centro");div_conteudo&&div_centro&&(div_conteudo.innerHTML="",div_conteudo.appendChild(div_centro))}}definir_atributos();for(var i=0;i<GLB.executar.length;i++)GLB.executar[i]();if(foco&&set_foco(),rolar){var fragment=get_fragment(window.location.href);fragment&&rolar_fragment(fragment)}var tempo_sessao=parseInt(document.body.getAttribute("data-tempo-sessao"));if(!isNaN(tempo_sessao)&&60<tempo_sessao){GLB.tempo_sessao=GLB.timestamp+1e3*tempo_sessao;var cts=new controle_tempo_sessao;cts.agendar_consulta()}return!0}function ajustar_layout(){var e=document.getElementById("titulo_pagina"),t=document.getElementById("navegacao"),a=document.getElementById("botao_menu"),i=document.getElementById("menu"),n=document.getElementById("conteudo_principal");adicionar_classe(e,"cabecalho_fixo"),adicionar_classe(t,"cabecalho_fixo"),i&&(adicionar_classe(i,"cabecalho_fixo"),a.style.display="inline-block",a.menu=i,a.conteudo_principal=n,a.onclick=function(e){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return this.menu.style.height=t-51+"px","block"==this.menu.style.display?(this.menu.style.display="none",this.conteudo_principal.style.display="block"):(this.menu.style.display="block",this.conteudo_principal.style.display="none"),e.stopPropagation(),e.preventDefault(),!1},adicionarEvento(window,"resize",function(e){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(800<t&&GLB.modo_movel){var a=document.getElementById("menu");(i=document.getElementById("conteudo_principal")).style.display="block",a.style.display="block",a.style.height="auto",GLB.modo_movel=!1}else if(t<=800&&!GLB.modo_movel){a=document.getElementById("menu");var i=document.getElementById("conteudo_principal");a.style.display="none",i.style.display="block",GLB.modo_movel=!0}}))}function adicionarEvento(e,t,a){null!=e&&void 0!==e&&(e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent?e.attachEvent("on"+t,a):e["on"+t]=a)}function checar_tecla(e){var t=e?e.keyCode?e.keyCode:e.which:window.event.keyCode,a=e?e.ctrlKey:window.event.ctrlKey;if(116==t||a&&82==t){var i=!!document.documentMode,n="ultimo_f5",r=new Date,o=getcookie(n);if(setcookie(n,r.getTime(),1),o&&r.getTime()-o<5e3)return i?(window.event.returnValue=!1,window.event.keyCode=0):e.preventDefault&&(e.preventDefault(),e.stopPropagation()),!1}if(a&&77==t){var s=document.getElementById("conteudo_secundario"),l=document.getElementById("conteudo_principal");s&&l&&("none"==s.style.display?(s.style.display="block",l.style.width="70%"):(s.style.display="none",l.style.width="100%"))}switch(t){case 116:var c=""!=GLB.url_atual?GLB.url_atual:window.location.href;return c=remover_params(c,["xml"]),window.location.replace(c),!1}return!0}function checar_click(e){e=e||window.event,GLB.caixa_selecao_busca&&GLB.caixa_selecao_busca.ocultar_busca()}function mudar_pagina(e){e.state&&window.location.reload()}function class_ajax(){var that=this,Ba,Ca,Da,Ea,Fa,Ga,Ha;this.flag_erro=!0,this.xmlhttp=null,this.url=null,this.usuario=null,this.senha=null,this.callback=null,this.carregando=null,this.set_credencial=function(e,t){that.usuario=e,that.senha=t},this.set_callback=function(e){that.callback=e},this.consultar=function(e,t,a,i,n){if(that.url=t,!that.xmlhttp)return!1;i=i||null,null!=n&&(that.flag_erro=n);try{null!=that.usuario?that.xmlhttp.open(e.toUpperCase(),that.url,a,that.usuario,that.senha):that.xmlhttp.open(e.toUpperCase(),that.url,a),that.xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),that.xmlhttp.onreadystatechange=that.processar,that.xmlhttp.send(i)}catch(e){return window.alert('Erro ao consultar site: "'+e.message+'"'),!1}return!0},this.criar_carregando=function(){if(that.div_carregando)return that.div_carregando.cloneNode(1);var e=criar_elemento("div",{class:"carregando"},{visibility:"hidden"}),t=criar_elemento("img",{src:CFG.wwwroot+"imgs/icones/carregando.gif"}),a=document.createTextNode("Carregando...");return null!=t&&e.appendChild(t),e.appendChild(a),e.onclick=that.retirar_carregando,that.div_carregando=e.cloneNode(1),e},this.exibir_carregando=function(e){var t=that.criar_carregando();if(e)if("number"!=typeof e){tirar_visibilidade(e),t.style.position="absolute";try{t.style.left="inherit",t.style.top="inherit"}catch(e){t.style.left="",t.style.top=""}inserir_inicio(e,t)}else document.getElementsByTagName("body").item(0).appendChild(t);t.style.visibility="visible",that.carregando=t},this.retirar_carregando=function(){null!=that.carregando&&null!=that.carregando.parentNode&&(that.carregando.parentNode.removeChild(that.carregando),delete that.carregando,that.carregando=null)},this.processar=function(){if(4==that.xmlhttp.readyState){switch(that.xmlhttp.status){case 0:that.flag_erro&&window.alert("Erro ao realizar requisição ao servidor: "+JSON.stringify(that.xmlhttp));break;case 200:if(that.callback)switch(typeof that.callback){case"object":if(that.callback instanceof Array)var obj=that.callback[0],metodo=that.callback[1],codigo="obj."+metodo+"(that);";else var funcao=that.callback,codigo=funcao+"(that);";eval(codigo);break;default:var funcao=that.callback,codigo=funcao+"(that);";eval(codigo)}break;case 503:that.flag_erro&&window.alert("O sistema está operando acima do esperado.\nRecomenda-se sair e voltar mais tarde.");break;default:that.flag_erro&&window.alert("Erro "+that.xmlhttp.status+": "+that.xmlhttp.statusText)}that.carregando&&that.retirar_carregando()}return!0},this.criar_xmlhttp=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)for(var e=["MSXML2.XMLHttp","MSXML.XMLHttp","Microsoft.XMLHttp"],t=e.length,a=0;a<t;a++)try{return new ActiveXObject(e[a])}catch(e){}return!1},this.get_retorno=function(e,t){switch(e.toLowerCase()){case"xml":if(GLB.navegador_ie||GLB.navegador_edge){var a=that.decode_html_entities(that.xmlhttp.responseText);if(window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");var i=new ActiveXObject("Microsoft.XMLDOM");return i.async=!1,i.loadXML(a),i}return that.xmlhttp.responseXML;case"text":return that.xmlhttp.responseText;case"headers":return that.xmlhttp.getAllResponseHeaders();case"header":return that.xmlhttp.getResponseHeader(t)}return!1},this.decode_html_entities=(Ba=document.createElement("div"),Ca=/&(?:[a-z0-9]+);?/gi,Da=/&quot;/gi,Ea=/&amp;/gi,Fa=/&lt;/gi,Ga=/&gt;/gi,Ha=/&apos;/gi,function(e){return e=(e=(e=(e=(e=(e=e.replace(Da,"&#34;")).replace(Ea,"&#38;")).replace(Fa,"&#60;")).replace(Ga,"&#62;")).replace(Ha,"&#39;")).replace(Ca,function(e){return Ba.innerHTML=e,Ba.textContent}),Ba.textContent="",e}),this.xmlhttp=this.criar_xmlhttp()}function submeter(e,t){if("mshtml"==CFG.engine)return!0;var a=document.getElementById("centro"),i=new class_ajax;if(!a||!i.xmlhttp)return!0;var n=e.getAttribute("action");n=adicionar_param(n,"xml","1"),window.frameElement&&window.parent.GLB.janela_modal_ativa.visivel&&(n=adicionar_param(n,"iframe","1"));var r=get_dados(e),o=e.getAttribute("method");return null!=t&&i.exibir_carregando(t),"get"==o.toLowerCase()&&(n=n+(0<=n.indexOf("?")?"&":"?")+r),i.set_callback("atualizar"),i.consultar(o,n,!0,r),!1}function carregar(e,t,a,i){if("mshtml"==CFG.engine)return!0;a=null!=a&&a,i=null!=i&&i;var n=e.getAttribute("href");if(i&&800<(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)){n=adicionar_param(n,"iframe","1");var r=new class_janela_modal;return r.criar_iframe(n),r.abrir(),!1}n=adicionar_param(n,"xml","1"),window.frameElement&&window.parent.GLB.janela_modal_ativa.visivel&&(n=adicionar_param(n,"iframe","1"));var o=document.getElementById("centro"),s=new class_ajax;return o&&s.xmlhttp?(0!=t&&s.exibir_carregando(t),0!=n.indexOf("http")&&(n=CFG.wwwroot+n),s.foco=a,s.set_callback("atualizar"),s.consultar("GET",n,!0,null),!1):(window.location.replace(n),!0)}function get_dados(e){for(var t=new Array,a=e.elements.length,i=0;i<a;i++){var n=e.elements[i];if(null!=n.name&&""!=n.name&&!n.disabled)switch(get_tag(n)){case"input":switch(n.getAttribute("type")){case"checkbox":case"radio":if(n.checked){var r=n.name+"="+encodeURIComponent(n.value);t.push(r)}break;case"submit":if(n.clicou){r=n.name+"="+encodeURIComponent(n.value);t.push(r)}break;default:r=n.name+"="+encodeURIComponent(n.value);t.push(r)}break;case"select":if(0<=n.selectedIndex)if(n.multiple){for(var o=n.options.length,s=0;s<o;s++)if(n.options[s].selected){r=n.name+"="+encodeURIComponent(n.options[s].value);t.push(r)}}else{r=n.name+"="+encodeURIComponent(n.options[n.selectedIndex].value);t.push(r)}break;case"textarea":r=n.name+"="+encodeURIComponent(n.value);t.push(r)}}return t.join("&")}function clonar(e,t,a){t.atualizar_labels=function(){for(var e=this.childNodes.length,t=0;t<e;t++)for(var a=t+2,i=this.childNodes[t],n=i.getElementsByTagName("label"),r=n.length,o=0;o<r;o++){var s=n[o],l=document.getElementById(i.id_ref).getElementsByTagName("label").item(o);if(l&&3==l.firstChild.nodeType){var c=document.createTextNode(l.firstChild.nodeValue+" "+a);s.replaceChild(c,s.firstChild)}}},(that=this).id||(this.id=1),this.id++;var i=t.childNodes.length;if(0<a.limite&&i+1>=a.limite)return window.alert("São permitidos no máximo "+a.limite+" elemento(s)"),!1;var n=e.cloneNode(!0);!function e(t,a){if(1==t.nodeType){t.def=0;try{t.hasAttribute("id")&&(t.id=t.id+"_"+a),t.hasAttribute("for")&&t.setAttribute("for",t.getAttribute("for")+"_"+a)}catch(e){t.getAttribute("id")&&t.setAttribute("id",t.getAttribute("id")+"_"+a),t.htmlFor&&(t.htmlFor=t.htmlFor+"_"+a)}if(t.hasChildNodes())for(var i=t.firstChild;null!=i;)e(i,a),i=i.nextSibling}}(n,i+1);var r=criar_elemento("div");r.id_ref=e.id,r.appendChild(n);var o=criar_elemento("input",{type:"button",class:"botao",value:"Remover"});return o.onclick=function(){var e=this.parentNode,t=e.parentNode;return t.removeChild(e),t.atualizar_labels(),!0},r.appendChild(o),t.appendChild(r),t.atualizar_labels(),iniciar(!1,!1,!1),!0}function atualizar(e){for(var t=(new Date).getTime();GLB.bloqueio_ajax;){if(t+1e4<(new Date).getTime()){if(!window.confirm("Uma página solicitada está demorando para ser carregada. Enquanto isso, você solicitou abrir outra página. Você deseja carregar a nova página assim mesmo?"))return!1;GLB.bloqueio_ajax=!1}}GLB.bloqueio_ajax=!0;var a=remover_params(GLB.url_atual,!0)!=remover_params(e.url,!0);limpar_intervals(),limpar_timers(),GLB.url_atual=remover_params(e.url,["xml"]);var i=document.getElementsByTagName("head").item(0),n=document.getElementById("navegacao"),r=document.getElementById("centro"),o=e.get_retorno("xml");if(CFG.devel&&(!o||!o.documentElement))return GLB.bloqueio_ajax=!1,console.log(o),alert("Ocorreu um erro no processamento do XML"),window.open(e.url),!1;if(!o||!o.documentElement||o.getElementById("pagina_login"))return GLB.bloqueio_ajax=!1,window.location.replace(GLB.url_atual),!1;var s=o.getElementById("navegacao");if(s&&n){var l=n.parentNode;try{var c=document.importNode(s,!0);l.replaceChild(c,n)}catch(e){try{n.innerHTML=s.innerHTML}catch(e){window.alert("Erro ao atualizar barra de navegacao:\n"+e.message+"\n\nRecomenda-se desabilitar o Javascript")}}}var u=o.getElementById("centro");if(u){l=r.parentNode;try{c=document.importNode(u,!0);l.replaceChild(c,r)}catch(e){try{r.innerHTML=u.innerHTML}catch(e){window.alert("Erro ao atualizar o conteudo da pagina:\n"+e.message+"\n\nRecomenda-se desabilitar o Javascript")}}}else{var d=o.getElementById("conteudo");if(d)limpar(r),r.appendChild(d);else{var m=o.documentElement.getElementsByTagName("body");m?(limpar(r),r.appendChild(m.item(0))):window.alert("Documento incorreto")}}for(var p=[],h=[],_=null,v=null,g=i.childNodes,f=0;f<g.length;f++){var b=g.item(f);1==b.nodeType&&null!=b.rel&&"stylesheet"==b.rel&&b.href&&(p[b.href]=b,null==_&&(_=b)),1==b.nodeType&&null!=b.nodeName&&"script"==b.nodeName.toLowerCase()&&b.src&&(h[b.src]=b,null==v&&(v=b))}null==_&&(_=i.firstChild),null==v&&(v=i.firstChild);var y=o.documentElement.getElementsByTagName("head");if(y){var w=(y=y.item(0)).childNodes;for(f=0;f<w.length;f++){var x=w.item(f);if(1==x.nodeType&&null!=x.rel&&"stylesheet"==x.rel&&x.href){if(null!=p[x.href]){delete p[x.href];continue}var C=document.importNode(x,!0);i.insertBefore(C,_.nextSibling),_=C}if(1==x.nodeType&&null!=x.nodeName&&"script"==x.nodeName.toLowerCase()&&x.src){if(null!=h[x.src]){delete h[x.src];continue}var k=clonar_tag(x);GLB.scripts[GLB.scripts.length]=k}}}for(var B in p)i.removeChild(p[B]);for(var E in h)i.removeChild(h[E]);var N=o.documentElement.getElementsByTagName("title").item(0).innerHTML;if(a)try{history.pushState({url:GLB.url_atual},N,GLB.url_atual)}catch(e){}document.title=N;var j=o.documentElement.getElementsByTagName("body").item(0).id;return document.getElementsByTagName("body").item(0).id=j||"",carregar_scripts(e.foco),!(GLB.bloqueio_ajax=!1)}function definir_atributos(){if("firefox"==CFG.navegador){var e=document.getElementsByTagName("object");if(e&&e.length)for(var t=e.length,a=0;a<t;a++){object=e.item(a);var i=object.parentNode;c=object.cloneNode(!0),document.importNode(c,!0),i.insertBefore(c,object),i.removeChild(object)}}var n=document.getElementsByTagName("body").item(0).getElementsByTagName("*"),r=n.length,o=document.getElementById("captcha");if(o&&!o.def&&possui_classe(o.parentNode,"captcha_imagem")){a=0;var s=null,l=criar_elemento("button",{type:"button",title:"Ouvir código"});l.innerHTML='<img src="'+CFG.wwwroot+'imgs/icones/som.png" alt="Ouvir código" width="20" height="20" />',l.style.backgroundColor="transparent",l.style.border="none",l.style.padding="0 x1px",l.style.cursor="pointer",l.onclick=function(){if(null==s||s.ended){var e=new Date,t=CFG.wwwroot+"webservice/captcha.mp3.php?c="+e.getTime()+a;(s=criar_elemento("audio")).innerHTML='<source src="'+t+'" type="audio/mpeg">',s.play(),a++}},o.parentNode.insertBefore(l,o.parentNode.childNodes[1]);var u=criar_elemento("input",{type:"button",value:"Mudar código",class:"botao",title:"Mudar o código"});u.onclick=function(){var e=this.parentNode.getElementsByTagName("img").item(0),t=e.getAttribute("src").split("?");e.setAttribute("src",t[0]+"?c="+Math.random())},o.parentNode.appendChild(u),o.def=1}for(a=0;a<r;a++){var d=n.item(a);if(!d.def){var m=get_tag(d),p=get_classe(d);if(null!=p)for(var h=p.split(" "),_=(t=h.length,0);_<t;_++)definir_eventos_classe(d,h[_]);switch(d.getAttribute("rel")){case"blank":d.setAttribute("target","_blank"),d.def=1;break;case"checar":"a"==m&&(checar_link(d),d.def=1)}}}for(t=document.forms.length,a=0;a<t;a++){var v=document.forms[a],g=v.getElementsByTagName("fieldset"),f=g.length;for(_=0;_<f;_++)atualizar_fieldset(g[_]);var b=v.getElementsByTagName("*"),y=(f=b.length,[]);for(_=0;_<f;_++)y[_]=b.item(_);for(_=0;_<y.length;_++)atualizar_campo(y[_],v);var w=v.getElementsByTagName("meta");for(f=w.length,_=0;_<f;_++){var x=w.item(_),C=document.getElementById(x.getAttribute("name"));if(null!=C){for(var k=C;(k=k.parentNode)&&"div"!=k.nodeName.toLowerCase(););if("label"==k.previousSibling.nodeName.toLowerCase()){var B=k.previousSibling;atualizar_info_campo(v,C,x.getAttribute("content"),B)}}else{var E=document.getElementById(x.getAttribute("name")+"_sim"),N=document.getElementById(x.getAttribute("name")+"_nao");if(null!=E&&null!=N){B=E.parentNode.parentNode.previousSibling;atualizar_info_campo(v,E,x.getAttribute("content"),B),atualizar_info_campo(v,N,x.getAttribute("content"),B)}}}}var j=document.getElementById("voltar_topo");j&&(j.onclick=function(e){return(e=e||window.event).returnValue=!1,window.scroll(0,0),!1});var T=document.getElementById("menu");T&&(T.clonar=!0,T.simp_ondrop=function(e){var t=document.getElementById("conteudo_principal"),a=document.getElementById("conteudo_secundario"),i=t.parentNode;limpar(i),e.x<=screen.width/2?(i.appendChild(a),i.appendChild(t)):(i.appendChild(t),i.appendChild(a)),GLB.flutuante.style.opacity=GLB.clone.style.opacity,GLB.flutuante.style.position=GLB.clone.style.position,GLB.flutuante.style.width=GLB.clone.style.width});var G=document.getElementById("select_vinculos_usuario");if(G){var L=null;G.onchange=function(){var e=this.value;if("0"!=e){var t=this.options[this.selectedIndex];L&&L.fechar(),L=new class_janela;var a=window.scrollY+.1*window.innerHeight,i=L.criar_janela("Alterar Perfil de Acesso",window.innerWidth/2-150,a),n=criar_elemento("div");n.innerHTML="Deseja alterar o seu perfil de acesso para <b>"+t.text+'</b>?<br/><br/><input type="button" name="alterar_vinculo_sim" value="Sim"/> <input type="button" name="alterar_vinculo_nao" style="margin-left: 1.5em;" value="Não"/>',n.style="padding: 0.2em;",n.childNodes[5].onclick=function(){location.href=CFG.wwwroot+"index.php?op=alterar_perfil&cod_usuario="+e,n.innerHTML='<p><img src="'+CFG.wwwroot+'imgs/icones/carregando_form.gif" alt=""/> Carregando...</p>'},n.childNodes[7].onclick=function(){G.selectedIndex=0,L.fechar()},i.appendChild(n),i.style.width="300px",i.style.height="10em",L.abrir()}}}}function definir_eventos_classe(item,classe){var tag=get_tag(item);switch(classe){case"drag":var item_movel=document.getElementById("drag_"+item.id);item_movel&&objeto_movel(item,item_movel),item.def=1;break;case"erro":"div"==tag&&(incluir_link_fechar(item),item.def=1);break;case"aviso":if("div"==tag){incluir_link_fechar(item);var obj_piscar=new class_piscar(item,1,.12);obj_piscar.piscar(),item.def=1}break;case"bloco_ajuda_aberto":case"bloco_ajuda_fechado":var blockquote=item.getElementsByTagName("blockquote");if(1==blockquote.length){blockquote=blockquote.item(0);var link_abrir=criar_elemento("a",{title:"Abrir em outra janela",class:"bt_ajuda_externa"},{display:"block",textAlign:"right"}," Abrir em Janela Externa");if(link_abrir){var img_abrir=criar_elemento("img",{src:CFG.wwwroot+"imgs/icones/link_externo.gif",alt:"Link externo"});inserir_inicio(link_abrir,img_abrir),link_abrir.onclick=function(){return window.open(CFG.wwwroot+"modulos/ajuda/popup.php","_blank","height=300px, width=500px, location=no, menubar=no, status=no, toolbar=no, scrollbars=yes",!0),!1},blockquote.appendChild(link_abrir)}}item.def=1;break;case"info_aguarde_sugestao":var inputs=item.nextSibling.getElementsByTagName("input");if(1==inputs.length){var input=inputs.item(0);definir_campo_sugestao(input,item.id),item.def=1}break;case"campo_texto_busca":var inputs=item.getElementsByTagName("input");if(1==inputs.length){var input=inputs.item(0);definir_campo_texto_busca(input,item.id),item.def=1}break;case"info_aguarde_sugestao_completa":var inputs=item.nextSibling.getElementsByTagName("input");if(inputs.length<=2){var inputh=inputs.item(0),inputb=inputs.item(1);definir_campo_sugestao_completa(inputb,inputh,item.id),item.def=1}break;case"campo_selecao_busca":definir_campo_selecao_busca(item),item.def=1;break;case"campo_selecao_busca_simples":definir_campo_selecao_busca_simples(item),item.def=1;break;case"relacionamento":if("a"==tag){var seletor=new class_seletor(item);item.def=1}break;case"hierarquia":if("a"==tag){var seletor=new class_hierarquia(item);item.def=1}break;case"data":if("div"==tag){var seletor_data=new class_calendario(item);item.def=1}break;case"popup":if("a"==tag){var popup=new class_popup(item);item.def=1}break;case"botao":if("submit"==item.getAttribute("type")){item.clicou=!1,item.onclick=function(){return this.clicou=!0,possui_classe(this,"noajax")&&(this.form.onsubmit=function(){return!0}),!0};var form=item.form;if(form.onsubmit){var novo=function(){for(var e=this.getElementsByTagName("input"),t=e.length,a=0;a<t;a++){var i=e.item(a);if(i.clicou){var n=criar_elemento("input",{type:"hidden",name:i.getAttribute("name"),value:i.getAttribute("value")});this.appendChild(n),i.setAttribute("disabled","disabled"),i.antes=i.getAttribute("value"),i.setAttribute("value","Aguarde"),i.style.backgroundImage="url("+CFG.wwwroot+"imgs/icones/carregando_form.gif)",i.style.backgroundRepeat="no-repeat"}}};form.onsubmit=juntar_funcoes(form.onsubmit,novo)}item.def=1}break;case"area_clones":var meta=item.getElementsByTagName("meta").item(0),info_clone=eval("("+meta.getAttribute("content")+")"),bt_clonar=criar_elemento("input",{type:"button",class:"botao",value:"Adicionar "+info_clone.nome});bt_clonar.info_clone=info_clone,bt_clonar.onclick=function(){var e=document.getElementById(this.info_clone.id);return!!e&&(clonar(e,this.parentNode.getElementsByTagName("div").item(0),this.info_clone),!0)},item.appendChild(bt_clonar),item.def=1;break;case"com_marcador":var label=criar_elemento("label",{},{marginTop:"0.5em"}),cb=criar_elemento("input",{type:"checkbox"});cb.onclick=function(){for(var e=this.parentNode.parentNode.getElementsByTagName("input"),t=e.length,a=0;a<t;a++)"checkbox"==e[a].type&&0==e[a].disabled&&(e[a].checked=this.checked);return!0},label.appendChild(cb),label.appendChild(document.createTextNode(" Marcar Todos")),item.appendChild(label),item.def=1}return!0}function atualizar_fieldset(e){var t=e.getElementsByTagName("legend").item(0);if(0<t.getElementsByTagName("img").length)return!0;var a=criar_elemento("img",{src:CFG.wwwroot+"imgs/icones/menos.gif",alt:"Abrir/Fechar",title:"Abrir/Fechar"},{backgroundColor:"#FFFFFF",cursor:"pointer",marginRight:"0.5em"});a.aberto=1,a.onclick=function(){var e=this.parentNode.parentNode.firstChild;for(this.aberto=this.aberto?0:1;null!=e;)1==e.nodeType&&"legend"!=get_tag(e)&&(null==e.display_original&&(e.display_original=e.style.display?e.style.display:"block"),this.aberto?e.style.display=e.display_original:e.style.display="none"),e=e.nextSibling;return this.aberto?this.src=CFG.wwwroot+"imgs/icones/menos.gif":this.src=CFG.wwwroot+"imgs/icones/mais.gif",!1},t.insertBefore(a,t.firstChild)}function atualizar_campo(e,t){if(!e.def)switch(e.nodeName.toLowerCase()){case"input":var a=e.getAttribute("type");if("password"==a){var i=criar_elemento("span",{class:"caps_lock"},{display:"none"},"Caps Lock");e.aviso=i,e.checado=!1,inserir_apos(e.parentNode,i,e),e.onkeypress=function(e){var t=e?e.keyCode?e.keyCode:e.which:window.event.keyCode;e=e||window.event,this.checado&&20==t&&(this.aviso.style.display="block"==this.aviso.style.display?"none":"block"),this.checado=!0;var a=e.shiftKey;return!entre(t,65,90)&&199!=t||(this.aviso.style.display=a?"none":"block"),!entre(t,97,122)&&231!=t||(this.aviso.style.display=a?"block":"none"),!0},e.def=1}else if("hidden"==a&&"id_progresso"==e.getAttribute("name")){t.onsubmit=juntar_funcoes(t.onsubmit,function(){var e=new class_janela("janela_progresso"),t=e.criar_janela("Progresso",screen.width/2-200,200,400,200);t.id_progresso=this.id_progresso.getAttribute("value"),t.intervalo=2e3;var a=criar_elemento("div",{id:"area_janela_progresso"}),i=criar_elemento("p",{},{textAlign:"center",lineHeight:"150px"},"Progresso: não iniciado");a.appendChild(i),t.appendChild(a),e.abrir(),atualizar_progresso()}),e.def=1}if(e.hasAttribute("data-mascara")){var n=e.getAttribute("data-mascara"),r=e.getAttribute("data-local"),o=e.id.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1");if(r)switch(r){case"pt_br":case"pt_br.utf-8":case"portuguese_brazil.1252":r="pt_br";break;case"en_us":case"en_us.utf-8":case"English_Australia.1252":r="en_us";break;default:return}else r="pt_br";if(void 0===CFG.exp[r][n])$("#"+o).mask(n);else{var s=CFG.exp[r][n];if(void 0===s.mascara)return;if(void 0===s.filtros)$("#"+o).mask(s.mascara);else{var l=CFG.localidades[r].decimal;if(l&&"moeda"==n&&s.mascara.indexOf(l)&&""!=e.value){var c=e.value.indexOf(l);if(c<0)e.value=e.value+l+"00";else{if((c=c+3-e.value.length)<0)return;for(var u=0;u<c;u++)e.value=e.value+"0"}}$("#"+o).mask(s.mascara,s.filtros)}CFG.exp[r][n].titulo&&""==e.title&&(e.title=CFG.exp[r][n].titulo);var d=CFG.exp[r][n].fim;e.pattern=d.substr(1,d.length-2)}}break;case"select":e.multiple&&possui_classe(e,"dupla")&&criar_select_dupla(t,e)}}function criar_select_dupla(e,t){var a=t.parentNode,i=a.previousSibling;if(t.preencher_listas=function(){for(var e=this.parentNode.getElementsByTagName("select"),t=e.item(1),a=e.item(2),i=t.options.length;0<i;i--)t.remove(0);for(i=a.options.length;0<i;i--)a.remove(0);var n=this.options.length;for(i=0;i<n;i++){var r=this.options[i].cloneNode(!0);r.indice=i,r.setAttribute("title",r.firstChild.nodeValue),r.selected?(r.removeAttribute("selected"),r.selected=!1,a.appendChild(r)):t.appendChild(r)}this.atualizar_quantidade()},t.atualizar_quantidade=function(){var e=this.parentNode.getElementsByTagName("select"),t=e.item(1),a=e.item(2),i=t.parentNode.getElementsByTagName("p").item(0),n=a.parentNode.getElementsByTagName("p").item(0);i.replaceChild(document.createTextNode("Opções de Seleção ("+t.options.length+")"),i.firstChild),n.replaceChild(document.createTextNode("Itens Selecionados ("+a.options.length+")"),n.firstChild)},!possui_classe(e,"reset_select")){e.onreset=juntar_funcoes(e.onreset,function(){for(var e=this.getElementsByTagName("select"),t=e.length,a=0;a<t;a++){var i=e.item(a);i.multiple&&possui_classe(i,"dupla")&&i.preencher_listas()}}),adicionar_classe(e,"reset_select")}possui_classe(a.parentNode.previousSibling.firstChild,"comentario")&&(a.parentNode.previousSibling.style.display="none"),"label"==get_tag(i)&&(i.style.width="100%",i.style.textAlign="left",i.style.paddingLeft="1%",a.style.clear="both",a.style.width="100%");var n=criar_elemento("div",{},{width:"44%",float:"left",marginLeft:"1%"}),r=criar_elemento("div",{},{width:"10%",float:"left",textAlign:"center"}),o=criar_elemento("div",{},{width:"44%",float:"left",marginRight:"1%"}),s=criar_elemento("select",{multiple:"multiple",size:t.getAttribute("size")});s.def=1,n.appendChild(s);var l=criar_elemento("p",{},{fontSize:"0.8em"},"Opções de Seleção");n.appendChild(l);var c=criar_elemento("input",{type:"button",value:">",title:"Enviar para direita",class:"botao"},{display:"block",width:"98%",margin:"0 auto"});c.def=1,c.onclick=function(){for(var e=this.parentNode.parentNode.getElementsByTagName("select"),t=e.item(0),a=e.item(1),i=e.item(2),n=a.options.length,r=0;r<n;r++){var o=a.options[r];if(!o.disabled&&o.selected){var s=parseInt(o.indice);t.options[s].selected=!0,o.selected=!1;for(var l=i.options.length,c=null,u=0;u<l;u++){var d=i.options[u];if(o.getAttribute("title").toLowerCase()<d.getAttribute("title").toLowerCase()){c=d;break}}i.insertBefore(o,c),r-=1,n-=1}}t.atualizar_quantidade()};var u=criar_elemento("input",{type:"button",value:"<",title:"Enviar para esquerda",class:"botao"},{display:"block",width:"98%",margin:"auto"});u.def=1,u.onclick=function(){for(var e=this.parentNode.parentNode.getElementsByTagName("select"),t=e.item(0),a=e.item(1),i=e.item(2),n=i.options.length,r=0;r<n;r++){var o=i.options[r];if(!o.disabled&&o.selected){var s=parseInt(o.indice);t.options[s].selected=!1,o.selected=!1;for(var l=a.options.length,c=null,u=0;u<l;u++){var d=a.options[u];if(o.getAttribute("title").toLowerCase()<d.getAttribute("title").toLowerCase()){c=d;break}}a.insertBefore(o,c),r-=1,n-=1}}t.atualizar_quantidade()},r.appendChild(c),r.appendChild(u);var d=criar_elemento("select",{multiple:"multiple",size:t.getAttribute("size")});d.def=1,o.appendChild(d);l=criar_elemento("p",{},{fontSize:"0.8em"},"Itens Selecionados");o.appendChild(l),t.style.display="none",a.appendChild(n),a.appendChild(r),a.appendChild(o),t.preencher_listas(),t.def=1}function atualizar_info_campo(e,a,t,i){return a.label=i,a.onfocus=function(){var e;(GLB.ultima_boia&&(GLB.ultima_boia.style.visibility="hidden"),null!=(e=this.label.parentNode.getElementsByTagName("img")).item(0)&&(e=-1==e.item(0).src.indexOf("info.gif")?e:null),e&&0<e.length)?(e=e.item(0)).style.visibility="visible":((e=criar_elemento("img",{src:CFG.wwwroot+"imgs/icones/ajuda.gif",title:"Ajuda sobre o campo"},{cursor:"pointer",display:"block",position:"absolute",marginLeft:"-10px",clear:"none"})).id_campo=t,e.janela=!1,e.onclick=function(e){if(!this.janela){var t=get_posicao_mouse(e);this.janela=new class_janela;this.janela.criar_janela("Carregando...",t.x,t.y+5,300);atualizar_info_atributo(this.janela,a,this.id_campo)}this.janela.abrir(document.getElementsByTagName("body").item(0))},0<i.getElementsByTagName("input").length?i.parentNode.appendChild(e):i.parentNode.insertBefore(e,i));GLB.ultima_boia=e},!0}function atualizar_info_atributo(d,e,t){var m=this;this.janela=d,this.campo=e,this.id_campo=t,this.ajax=new class_ajax,this.atualizar_descricao=function(e){var t=e.get_retorno("xml");if(obj=m.janela.caixa,0<t.documentElement.getElementsByTagName("erro").length)return d.set_titulo("Erro"),void m.inserir_valor(obj,"Erro","Dados do campo não disponíveis");var a=m.get_atributo(t.documentElement,"descricao"),i=m.get_atributo(t.documentElement,"tipo"),n=m.get_atributo(t.documentElement,"minimo"),r=m.get_atributo(t.documentElement,"maximo"),o="0"==m.get_atributo(t.documentElement,"pode_vazio"),s="1"==m.get_atributo(t.documentElement,"unico"),l=t.documentElement.getElementsByTagName("validacao");if(l.length)var c=m.get_atributo(l.item(0),"instrucoes"),u=m.get_atributo(l.item(0),"exemplo");else c=!1,u=!1;switch(d.set_titulo("Ajuda do campo "+a),m.campo.nodeName.toLowerCase()){case"select":return m.campo.multiple?m.inserir_valor(obj,"Instrução","Escolha um elemento da lista"):m.inserir_valor(obj,"Instrução","Escolha um ou mais elementos da lista"),void(c&&m.inserir_valor(obj,"Observações:",c));case"input":switch(m.campo.getAttribute("text")){case"text":case"password":break;case"checkbox":return void m.inserir_valor(obj,"Instrução","Marque as opções desejadas");case"radio":return void m.inserir_valor(obj,"Instrução","Escolha uma opção");case"file":return void m.inserir_valor(obj,"Instrução","Escolha um arquivo")}}switch(n=n||"indefinido",r=r||"indefinido",i){case"int":m.inserir_valor(obj,"Tipo","Número Inteiro"),m.inserir_valor(obj,"Intervalo","de "+n+" até "+r),o&&m.inserir_valor(obj,"Obrigatório","Sim"),s&&m.inserir_valor(obj,"Único no Sistema","Sim (não podem existir 2 iguais)");break;case"float":case"decimal":case"moeda":m.inserir_valor(obj,"Tipo","Número Real"),m.inserir_valor(obj,"Intervalo","de "+n+" até "+r),o&&m.inserir_valor(obj,"Obrigatório","Sim"),s&&m.inserir_valor(obj,"Único no Sistema","Sim (não podem existir 2 iguais)");break;case"string":m.inserir_valor(obj,"Tipo","Texto"),n==r?m.inserir_valor(obj,"Tamanho","exatamente "+n+" caracteres"):m.inserir_valor(obj,"Tamanho","entre "+n+" e "+r+" caracteres"),o&&m.inserir_valor(obj,"Obrigatório","Sim"),s&&m.inserir_valor(obj,"Único no Sistema","Sim (não podem existir 2 iguais)"),c&&m.inserir_valor(obj,"Instruções",c),u&&m.inserir_valor(obj,"Exemplo",u);break;case"binario":m.inserir_valor(obj,"Tipo","Texto binário"),m.inserir_valor(obj,"Tamanho","entre "+n+" e "+r),o&&m.inserir_valor(obj,"Obrigatório","Sim"),s&&m.inserir_valor(obj,"Único no Sistema","Sim (não podem existir 2 iguais)");break;case"char":m.inserir_valor(obj,"Tipo","Caractere"),o&&m.inserir_valor(obj,"Obrigatório","Sim"),s&&m.inserir_valor(obj,"Único no Sistema","Sim (não podem existir 2 iguais)");break;case"bool":m.inserir_valor(obj,"Tipo","Sim ou Não"),c&&m.inserir_valor(obj,"Instruções",c);break;case"data":m.inserir_valor(obj,"Tipo","Data"),s&&m.inserir_valor(obj,"Único no Sistema","Sim (não podem existir 2 iguais)")}},this.inserir_valor=function(e,t,a){var i=criar_elemento("p"),n=criar_elemento("strong");n.appendChild(document.createTextNode(t+":")),i.appendChild(n),i.appendChild(document.createTextNode(" "+a)),e.appendChild(i)},this.get_atributo=function(e,t){var a=e.getElementsByTagName(t);return!(!a.length||!a.item(0).hasChildNodes())&&a.item(0).firstChild.nodeValue};var a=CFG.wwwroot+"webservice/atributo.xml.php?id="+t;this.ajax.set_callback([m,"atualizar_descricao"]),this.ajax.consultar("GET",a,!0,null)}function entre(e,t,a){return t<=e&&e<=a}function atualizar_progresso(){var e=document.getElementById("janela_progresso");if(e){var t=adicionar_param(CFG.wwwroot+"webservice/progresso.php","id",e.id_progresso),a=new class_ajax;if(!a.xmlhttp)return;a.set_callback("atualizar_progresso_xml"),a.consultar("GET",t,!0,null,!0)}}function atualizar_progresso_xml(e){var t=e.get_retorno("xml"),a=document.getElementById("janela_progresso"),i=document.getElementById("area_janela_progresso");try{var n=get_conteudo_node(t.getElementsByTagName("percentual").item(0));get_conteudo_node(t.getElementsByTagName("tempo_gasto").item(0)),get_conteudo_node(t.getElementsByTagName("tempo_estimado").item(0)),get_conteudo_node(t.getElementsByTagName("tempo_restante").item(0));if(possui_classe(i,"progresso_iniciado")){(s=document.getElementById("barra_janela_progresso")).style.width=n+"%",s.replaceChild(document.createTextNode(n+"%"),s.firstChild)}else{definir_classe(i,"progresso_iniciado"),limpar(i),i.style.padding="1em";var r=criar_elemento("span",{},{},"Progresso:");i.appendChild(r);var o=criar_elemento("div",{},{backgroundColor:"#FFFFFF",border:"2px inset #CCCCCC",padding:"2px 4px 2px 2px",height:"20px"}),s=criar_elemento("div",{id:"barra_janela_progresso"},{backgroundColor:"#000033",border:"1px outset #000033",height:"17px",color:"#FFFF00",fontSize:"9pt",textAlign:"right",padding:"1px 1px 0 0",width:n+"%"},n+"%");o.appendChild(s),i.appendChild(o)}100!=n&&a&&(a.timer=ativar_timer("atualizar_progresso();",a.intervalo))}catch(e){}}function incluir_link_fechar(e){if(window.frameElement&&window.parent.GLB.janela_modal_ativa.visivel){window.parent.GLB.janela_modal_ativa.recarregar=!0;var t=criar_elemento("div",{},{textAlign:"center",marginTop:"1em"}),a=criar_elemento("a",{},{fontSize:"small",marginRight:"2em"},"Fechar Aviso"),i=criar_elemento("a",{},{fontSize:"small"},"Fechar Janela");t.appendChild(a),t.appendChild(i),i.onclick=function(){return window.parent.GLB.janela_modal_ativa.fechar(),!1},a.onclick=function(){return"mshtml"==CFG.engine?this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode):fechar(this.parentNode.parentNode),!1},e.appendChild(t)}else{var n=criar_elemento("a",{},{display:"block",textAlign:"center",fontSize:"small",marginTop:"1em",cursor:"pointer"},"Fechar");n.onclick=function(){return"mshtml"==CFG.engine?this.parentNode.parentNode.removeChild(this.parentNode):fechar(this.parentNode),!1},e.appendChild(n)}}function class_tremer(e,t){this.id=class_tremer.instancias.length;var i=class_tremer.instancias[this.id]=this;this.obj_tremer=e.cloneNode(!0),this.obj_original=e,this.offset=0<t?t:4,this.timer=null,this.i=0,this.tremer=function(e){if(i.obj_tremer.innerHTML.length<GLB.limite_tamanho){var t=get_posicao(i.obj_original);i.obj_tremer.style.position="absolute",i.obj_tremer.style.margin="0px",i.obj_tremer.style.left=t.x+"px",i.obj_tremer.style.top=t.y+"px",i.obj_original.parentNode.replaceChild(i.obj_tremer,i.obj_original),i.timer=ativar_interval("try { class_tremer.instancias["+i.id+"].mover("+GLB.timestamp+"); } catch (e) {}",70),ativar_timer("class_tremer.instancias["+i.id+"].parar_tremer()",e)}},this.mover=function(e){if(e==GLB.timestamp)try{i.i=1-i.i;var t=1==i.i?-1*i.offset:i.offset,a=parseInt(i.obj_tremer.style.left)+t;i.obj_tremer.style.left=a+"px"}catch(e){i.parar_tremer()}},this.parar_tremer=function(){cancelar_interval(i.timer),i.obj_tremer.parentNode.replaceChild(i.obj_original,i.obj_tremer)}}function class_piscar(e,t,a){this.id=class_piscar.instancias.length;var i=class_piscar.instancias[this.id]=this;this.obj_piscar=e,this.passo=0<a?a:.1,this.opacity=""!=e.style.opacity?parseFloat(e.style.opacity):1,this.timer=null,this.vezes=parseInt(t),this.sentido=!1,this.piscar=function(){i.obj_piscar.innerHTML.length<GLB.limite_tamanho&&(i.obj_piscar.piscando=!0,i.obj_piscar.style.opacity=parseFloat(i.opacity),i.sentido=!1,i.timer=ativar_interval("try { class_piscar.instancias["+i.id+"].mudar("+GLB.timestamp+"); } catch (e) {console.log(e);}",30))},this.mudar=function(e){if(e==GLB.timestamp)try{var t=parseFloat(i.obj_piscar.style.opacity);i.sentido?t+=i.passo:t-=i.passo,t<=0?(t=0,i.obj_piscar.style.opacity=t.toFixed(2),i.sentido=!0,i.vezes-=1):t>=i.opacity?(t=i.opacity,i.obj_piscar.style.opacity=t.toFixed(2),i.sentido=!1):i.obj_piscar.style.opacity=t.toFixed(2),i.vezes<=0&&t==i.opacity&&i.parar_piscar()}catch(e){i.parar_piscar()}else cancelar_interval(i.timer)},this.parar_piscar=function(){i.obj_piscar.piscando=!1,i.sentido=!1,cancelar_interval(i.timer)}}function fechar(e){e.piscando||new class_fechar(e).dissolver(.12)}function class_fechar(e){this.id=class_fechar.instancias.length;var a=class_fechar.instancias[this.id]=this;this.obj_fechar=e,this.passo=.1,this.timer=null,this.dissolver=function(e){0<e&&(a.passo=parseFloat(e)),a.obj_fechar.innerHTML.length<GLB.limite_tamanho?(""==a.obj_fechar.style.opacity&&(a.obj_fechar.style.opacity=1),a.timer=ativar_interval("class_fechar.instancias["+a.id+"].mudar_dissolver("+GLB.timestamp+")",30)):(a.obj_fechar.parentNode.removeChild(a.obj_fechar),delete a.obj_fechar,a.obj_fechar=null)},this.mudar_dissolver=function(e){if(e==GLB.timestamp){var t=parseFloat(a.obj_fechar.style.opacity);t-=a.passo,a.obj_fechar.style.opacity=t.toFixed(2),t<=0&&a.parar_timer()}},this.parar_timer=function(){cancelar_interval(a.timer),a.obj_fechar.parentNode.removeChild(a.obj_fechar),delete a.obj_fechar,a.obj_fechar=null}}function set_foco(){if(!document.getElementById("ignorar_foco"))try{for(var e=document.forms.length,t=0;t<e;t++)for(var a=document.forms[t].length,i=0;i<a;i++){var n=document.forms[t][i];if("hidden"!=n.getAttribute("type")&&!n.getAttribute("disabled"))return n.focus(),void n.select()}}catch(e){}}function rolar_fragment(e){var t=document.getElementById(e),a=get_posicao(t),i=(window.scrollX,window.scrollY),n=a.y-i;rolar(a.y,0<n?20:-20,10)}function rolar(e,t,a){var i=window.scrollX,n=window.scrollY;0<t?n+t<e?(window.scrollTo(i,n+t),window.scrollY!=n&&ativar_timer("rolar("+e+", "+t+", "+a+");",a)):window.scrollTo(i,e):e<n+t?(window.scrollTo(i,n+t),window.scrollY!=n&&ativar_timer("rolar("+e+", "+t+", "+a+");",a)):window.scrollTo(i,e)}function atualizar_tempo(){var e=new class_ajax;e.set_callback("atualizar_tempo_xml"),e.consultar("GET",CFG.wwwroot+"webservice/data.xml.php",!0,null,!1)}function atualizar_tempo_xml(e){var t=e.get_retorno("xml");if(!t)return!1;var a=document.getElementById("hora_local"),i=document.getElementById("data_local");if(a&&i){var n=get_conteudo_node(t.documentElement.firstChild),r=get_conteudo_node(t.documentElement.lastChild),o=document.createTextNode(n),s=document.createTextNode(r);a.replaceChild(s,a.firstChild),i.replaceChild(o,i.firstChild)}}function get_conteudo_node(e){return e.firstChild?get_conteudo_node(e.firstChild):e.data?e.data:e.nodeValue?e.nodeValue:null}function setcookie(e,t,a){var i;if(a){var n=new Date;n.setDate(n.getDate()+a),i=n.toGMTString()}else i="0";var r=e+"="+encodeURIComponent(t)+"; expires="+i+"; path="+CFG.path;CFG.localhost||(r+="; domain="+CFG.dominio_cookies),document.cookie=r}function getcookie(e){return new RegExp("(?:; )?"+e+"=([^;]*);?").test(document.cookie)?decodeURIComponent(RegExp.$1):null}function mostrar_ajuda(e){var t=e.parentNode,a=t.getElementsByTagName("blockquote");if(!a.length)return!1;var i=a[0];return"hide"==get_classe(i)?(setcookie("expandir","1"),definir_classe(t,"bloco_ajuda_aberto"),definir_classe(i,"visivel"),e.setAttribute("title","Esconder Ajuda")):(setcookie("expandir","0"),definir_classe(t,"bloco_ajuda_fechado"),definir_classe(i,"hide"),e.setAttribute("title","Expandir Ajuda")),e.removeAttribute("href"),!1}function definir_classe(e,t){e.className=t}function adicionar_classe(e,t){var a=get_classe(e);null==a?definir_classe(e,t):in_array(t,a.split(" "))||definir_classe(e,a+" "+t)}function remover_classe(e,t){if(null!=t){var a=get_classe(e);if(null!=a){for(var i=a.split(" "),n=new Array,r=i.length,o=0;o<r;o++)t!=i[o]&&n.push(i[o]);0<n.length?definir_classe(e,n.join(" ")):(definir_classe(e,null),e.removeAttribute("class"))}}else e.removeAttribute("class")}function possui_classe(e,t){var a=get_classe(e);if(null!=a)for(var i=a.split(" "),n=i.length-1;0<=n;){if(t==i[n])return!0;n--}return!1}function get_classe(e){return null==e?null:e.className?e.className:e.getAttribute?e.getAttribute("class"):null}function get_tag(e){return e.nodeName.toLowerCase()}function limpar(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function mudar(e){var t=document.getElementById(e);return t&&("hide"==get_classe(t)?definir_classe(t,"bloco"):definir_classe(t,"hide")),!1}function mascara(e,input,tipo,blur,local){var valor=input.value,exemplo="",exp,fim;if(local=local.toLowerCase(),0==valor.length)return!0;switch(this.set_valido=function(e,t){var a=t.parentNode.getElementsByTagName("img");if(0<a.length)var i=a.item(0);else i=criar_elemento("img");var n=CFG.wwwroot+"imgs/icones/"+(e?"valido.gif":"invalido.gif"),r=e?"válido":"inválido";i.setAttribute("src",n),i.setAttribute("alt","campo "+r),i.setAttribute("title","campo "+r),0==a.length&&(i.style.marginLeft="4px",i.style.float="left",i.style.position="absolute",t.style.width=t.offsetWidth-30+"px",t.parentNode.appendChild(i))},local){case"pt_br":case"pt_br.utf-8":case"portuguese_brazil.1252":local="pt_br";break;case"en_us":case"en_us.utf-8":case"English_Australia.1252":local="en_us";break;default:return!0}var obj_tipo=eval("CFG.exp."+local+"."+tipo),exp=obj_tipo.exp,fim=obj_tipo.fim,re_exp=new RegExp(exp.substr(1,exp.length-2)),re_fim=new RegExp(fim.substr(1,fim.length-2));console.log(re_exp),console.log(re_fim);var resultado_exp=re_exp.test(valor),resultado_fim=re_fim.test(valor);if(this.set_valido(resultado_fim,input),1==blur){if(resultado_fim)return!0}else{if(resultado_exp)return!0;null!=input.valor_antigo&&(input.value=input.valor_antigo)}return!1}function definir_campo_sugestao(e,t){e.timer_busca=!1,e.info=document.getElementById(t),e.valor_antigo="",e.setAttribute("autocomplete","off"),e.div=e.nextSibling,e.ajax=new class_ajax,e.limpar_sugestoes=function(){limpar(this.div),this.div.style.display="none",this.div.style.width=this.offsetWidth+"px"},e.ativar_timer_busca=function(){return this.value==this.valor_antigo||(this.timer_busca&&cancelar_timer(this.timer_busca),this.limpar_sugestoes(),this.valor_antigo=this.value,this.timer_busca=ativar_timer("buscar('"+e.id+"')",1e3)),!0},e.buscar=function(){var e=CFG.wwwroot+"webservice/busca.xml.php";return e=adicionar_param(e,"id",this.info.id),e=adicionar_param(e,"busca",this.value),2<this.value.length?(this.div.style.display="block",this.ajax.set_callback([this,"atualizar_itens"]),this.ajax.exibir_carregando(this.div),this.ajax.consultar("GET",e,!0,null)):(limpar(this.div),this.div.style.display="none"),!0},e.atualizar_itens=function(e){var t=e.get_retorno("xml").documentElement.getElementsByTagName("resultado");if(limpar(this.div),0==t.length){var a=document.createTextNode("Resultado(s) Semelhante(s): nenhum");this.div.appendChild(a)}else{a=document.createTextNode("Resultado(s) Semelhante(s): "+t.length);var i=criar_elemento("select",{size:"7"});i.input=this,i.onchange=function(){return this.input.value=this.value,this.input.valor_antigo=this.value,!0},i.onkeydown=function(e){var t=e?e.keyCode?e.keyCode:e.which:window.event.keyCode;switch(e=e||window.event,t){case 9:case 13:return this.input.value=this.value,this.input.valor_antigo=this.value,this.input.limpar_sugestoes(),this.input.focus(),e.returnValue=!1}return!0};for(var n=t.length,r=0;r<n;r++){var o=t.item(r).firstChild.nodeValue,s=criar_elemento("option",{title:o,value:o},{},o);s.ondblclick=function(){return this.parentNode.input.limpar_sugestoes(),this.parentNode.input.focus(),!1},i.appendChild(s)}this.div.appendChild(a),this.div.appendChild(i)}var l=criar_elemento("a",{href:"#"},{display:"block"},"Fechar");return l.input=this,l.onclick=function(e){return(e=e||window.event).returnValue=!1,this.input.limpar_sugestoes(),this.input.focus(),!1},l.onkeypress=l.onclick,this.div.appendChild(l),!0},e.onfocus=function(){this.info.style.color="#006600"},e.onblur=function(){this.info.style.color="#000000"},e.onkeydown=function(e){switch(e?e.keyCode?e.keyCode:e.which:window.event.keyCode){case 9:return this.timer_busca&&cancelar_timer(this.timer_busca),!0;case 27:this.timer_busca&&cancelar_timer(this.timer_busca);try{e.returnValue=!1,this.limpar_sugestoes(),this.focus()}catch(e){}return!1;case 13:this.timer_busca&&cancelar_timer(this.timer_busca);try{0<=(t=this.div.getElementsByTagName("select").item(0)).selectedIndex?(e.returnValue=!1,this.value=t.value,this.valor_antigo=this.value,this.limpar_sugestoes(),this.focus()):e.returnValue=!0}catch(e){}return e.returnValue;case 38:try{0<(a=(t=this.div.getElementsByTagName("select").item(0)).selectedIndex)?(t.options[a].selected=!1,t.options[a-1].selected=!0):t.options[0].selected=!0}catch(e){return this.ativar_timer_busca(),!0}return!1;case 40:try{var t,a;0<=(a=(t=this.div.getElementsByTagName("select").item(0)).selectedIndex)&&a<t.options.length-1?(t.options[a].selected=!1,t.options[a+1].selected=!0):t.options[0].selected=!0}catch(e){return this.ativar_timer_busca(),!0}return!1}return this.ativar_timer_busca(),!0}}function definir_campo_texto_busca(e,t){e.timer_busca=!1,e.id_busca=t,e.valor_antigo="",e.setAttribute("autocomplete","off"),e.div=e.nextSibling,e.ajax=new class_ajax,e.limpar_sugestoes=function(){limpar(this.div),this.div.style.display="none",this.div.style.width=this.offsetWidth+"px"},e.ativar_timer_busca=function(){return this.value==this.valor_antigo||(this.timer_busca&&cancelar_timer(this.timer_busca),this.limpar_sugestoes(),this.valor_antigo=this.value,this.timer_busca=ativar_timer("buscar('"+e.id+"')",1e3)),!0},e.buscar=function(){var e=CFG.wwwroot+"webservice/opcoes.xml.php",t="id="+encodeURIComponent(this.id_busca);return t+="&busca="+encodeURIComponent(this.value),t+="&retorno=text",2<this.value.length?(this.div.style.display="block",this.ajax.set_callback([this,"atualizar_itens"]),this.ajax.exibir_carregando(this.div),this.ajax.consultar("POST",e,!0,t)):(limpar(this.div),this.div.style.display="none"),!0},e.atualizar_itens=function(e){var t=e.get_retorno("xml").documentElement.getElementsByTagName("resultado");if(limpar(this.div),0==t.length){var a=document.createTextNode("Resultado(s) Semelhante(s): nenhum");this.div.appendChild(a)}else{a=document.createTextNode("Resultado(s) Semelhante(s): "+t.length);var i=criar_elemento("select",{size:"7"});i.input=this,i.onchange=function(){return this.input.value=this.value,this.input.valor_antigo=this.value,!0},i.onkeydown=function(e){var t=e?e.keyCode?e.keyCode:e.which:window.event.keyCode;switch(e=e||window.event,t){case 9:case 13:return this.input.value=this.value,this.input.valor_antigo=this.value,this.input.limpar_sugestoes(),this.input.focus(),e.returnValue=!1}return!0};for(var n=t.length,r=0;r<n;r++){var o=t.item(r).firstChild.nodeValue,s=criar_elemento("option",{title:o,value:o},{},o);s.ondblclick=function(){return this.parentNode.input.limpar_sugestoes(),this.parentNode.input.focus(),!1},i.appendChild(s)}this.div.appendChild(a),this.div.appendChild(i)}var l=criar_elemento("a",{href:"#"},{display:"block"},"Fechar");return l.input=this,l.onclick=function(e){return(e=e||window.event).returnValue=!1,this.input.limpar_sugestoes(),this.input.focus(),!1},l.onkeypress=l.onclick,this.div.appendChild(l),!0},e.onkeydown=function(e){switch(e?e.keyCode?e.keyCode:e.which:window.event.keyCode){case 9:return this.timer_busca&&cancelar_timer(this.timer_busca),!0;case 27:this.timer_busca&&cancelar_timer(this.timer_busca);try{e.returnValue=!1,this.limpar_sugestoes(),this.focus()}catch(e){}return!1;case 13:this.timer_busca&&cancelar_timer(this.timer_busca);try{0<=(t=this.div.getElementsByTagName("select").item(0)).selectedIndex?(e.returnValue=!1,this.value=t.value,this.valor_antigo=this.value,this.limpar_sugestoes(),this.focus()):e.returnValue=!0}catch(e){}return e.returnValue;case 38:try{0<(a=(t=this.div.getElementsByTagName("select").item(0)).selectedIndex)?(t.options[a].selected=!1,t.options[a-1].selected=!0):t.options[0].selected=!0}catch(e){return this.ativar_timer_busca(),!0}return!1;case 40:try{var t,a;0<=(a=(t=this.div.getElementsByTagName("select").item(0)).selectedIndex)&&a<t.options.length-1?(t.options[a].selected=!1,t.options[a+1].selected=!0):t.options[0].selected=!0}catch(e){return this.ativar_timer_busca(),!0}return!1}return this.ativar_timer_busca(),!0}}function definir_campo_selecao_busca(i){i.input=i.getElementsByTagName("input").item(1),i.input_hidden=i.getElementsByTagName("input").item(0),i.div=i.getElementsByTagName("div").item(0),i.cab_pagina=i.getElementsByClassName("cabecalho_pagina_campo_selecao_busca").item(0),i.rodape=i.getElementsByClassName("rodape_campo_selecao_busca").item(0),i.filtro=document.getElementById("filtro_"+i.id),i.bt_buscar=document.getElementById("buscar_"+i.id),i.bt_limpar=document.getElementById("limpar_"+i.id),i.bt_selecionar=document.getElementById("selecionar_"+i.id),i.select=document.getElementById("opcoes_"+i.id),i.seta_esquerda=i.cab_pagina.getElementsByTagName("strong").item(0),i.seta_direita=i.cab_pagina.getElementsByTagName("strong").item(1),i.bt_exibir=i.rodape.getElementsByTagName("input").item(0),i.select_paginas=i.rodape.getElementsByTagName("select").item(0),i.bt_fechar=i.getElementsByClassName("bt_fechar").item(0),i.todos_itens=!0,i.busca=!1,i.carregando=!1,i.pagina=1,i.num_paginas=1,i.num_registros=0,i.num_registros_pag=i.input_hidden.size,i.ajax=new class_ajax,i.onkeydown=function(e){var t=(e=e||window.event)?e.keyCode?e.keyCode:e.which:window.event.keyCode;switch(t){case 27:return i.input.focus(),i.ocultar_busca(),!1}var a=String.fromCharCode(t);return/[a-zA-Z0-9-_ ]/.test(a)&&(i.filtro.focus(),i.filtro.onkeydown(e)),!0},i.onclick=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},i.input.onclick=function(e){return"none"==i.div.style.display?i.exibir_busca():i.ocultar_busca(),!1},i.bt_exibir.onkeydown=function(e){switch((e=e||window.event)?e.keyCode?e.keyCode:e.which:window.event.keyCode){case 38:return i.select.focus(),!1;case 37:return i.select_paginas.focus(),!1;case 9:i.ocultar_busca()}return!0},i.select_paginas.onkeydown=function(e){switch((e=e||window.event)?e.keyCode?e.keyCode:e.which:window.event.keyCode){case 37:return i.select.focus(),!1;case 13:return i.bt_exibir.onclick(),!1}return!0},i.input.onkeydown=function(e){var t=(e=e||window.event)?e.keyCode?e.keyCode:e.which:window.event.keyCode;switch(t){case 38:case 40:return i.exibir_busca(),i.select.focus(),i.select.onkeydown(e),!1;case 8:return e.preventDefault(),i.exibir_busca(),i.filtro.focus(),!1}var a=String.fromCharCode(t);return/[a-zA-Z0-9-_ ]/.test(a)&&(i.exibir_busca(),i.filtro.focus(),i.filtro.onkeydown(e)),!0},i.bt_limpar.onclick=function(){return i.input.value="",i.input_hidden.value="",i.filtro.value="",this.todos_itens||i.buscar(),i.ocultar_busca(),!0},i.bt_buscar.onclick=function(){return i.pagina=1,i.buscar(),!0},i.filtro.onkeydown=function(e){var t=e?e.keyCode?e.keyCode:e.which:window.event.keyCode;switch(e=e||window.event,t){case 13:return i.bt_buscar.onclick(),!1;case 40:return i.select.focus(),!1}return!0},i.bt_fechar.onclick=function(e){return(e=e||window.event).returnValue=!1,i.ocultar_busca(),!1},i.select.ondblclick=function(){return i.selecionar_valor(this.options[this.selectedIndex]),!1},i.select.onclick=function(){return i.selecionar_valor(this.options[this.selectedIndex],!0),!1},i.select.onkeydown=function(e){var t=e?e.keyCode?e.keyCode:e.which:window.event.keyCode;switch(e=e||window.event,t){case 13:return i.selecionar_valor(this.options[this.selectedIndex]),!1;case 8:return e.preventDefault(),i.filtro.focus(),!1;case 38:return 0!==this.selectedIndex||(i.filtro.focus(),!1)}return!0},i.seta_direita.onclick=function(){if(this.carregando)return!1;i.pagina<i.num_paginas&&(i.pagina++,i.buscar())},i.seta_esquerda.onclick=function(){if(this.carregando)return!1;1<i.pagina&&(i.pagina--,i.buscar())},i.bt_exibir.onclick=function(){if(this.carregando)return!1;i.pagina=i.select_paginas.value,i.select.focus(),i.buscar()},i.bt_selecionar.onclick=function(){return this.carregando||i.selecionar_valor(i.select.options[i.select.selectedIndex]),!1},i.decodificar_html=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},i.selecionar_valor=function(e,t){""!==e.value&&(this.input_hidden.value=e.value,this.input.value=this.decodificar_html(e.innerHTML),t||(this.input.focus(),this.ocultar_busca()),"function"==typeof this.input_hidden.onchange&&this.input_hidden.onchange())},i.ocultar_busca=function(){this.div.style.display="none",GLB.caixa_selecao_busca=null},i.exibir_busca=function(){GLB.caixa_selecao_busca&&this.input_hidden.id!=GLB.caixa_selecao_busca.input_hidden.id&&GLB.caixa_selecao_busca.ocultar_busca(),this.div.style.width=this.input.offsetWidth-1+"px",this.div.style.display="block",this.select.focus(),GLB.caixa_selecao_busca=this,i.busca||this.buscar()},i.buscar=function(){if(this.carregando)return!1;var e=CFG.wwwroot+"webservice/opcoes.xml.php",t="id="+encodeURIComponent(this.getAttribute("data-sessao"));t+="&busca="+encodeURIComponent(this.filtro.value),t+="&pagina="+encodeURIComponent(this.pagina),t+="&n="+encodeURIComponent(this.num_registros_pag),t+="&retorno=select";for(;0<this.select.options.length;)this.select.options.remove(0);var a=criar_elemento("option",{value:"",style:"color:#333; font-style: italic;background: #fff url('"+CFG.wwwroot+"imgs/icones/carregando.gif') no-repeat 1% 50%;padding: 0.2em 24px;"},{},"Carregando...");return this.select.size=10,this.select.appendChild(a),a.focus(),this.todos_itens=""==this.filtro.value,this.ajax.set_callback([this,"atualizar_itens"]),this.ajax.consultar("POST",e,!0,t),this.busca=!0,this.carregando=!0},i.atualizar_itens=function(e){for(var t=0;0<this.select.options.length;)this.select.options.remove(t);this.select.size=15,this.carregando=!1;var a=e.get_retorno("xml");if(!a)return!1;var i=a.documentElement.getElementsByTagName("resultado");if(!i)return!1;var n=a.documentElement.getElementsByTagName("total").item(0).firstChild.nodeValue;if(!n)return!1;this.num_registros=n,this.num_paginas=Math.ceil(n/this.num_registros_pag);var r=i.length;if(0<r){var o=this;for(t=0;t<r;t++){var s=i.item(t).childNodes,l=s.item(0).firstChild.nodeValue,c=s.item(1).firstChild.nodeValue;(u=criar_elemento("option",{title:c,value:l},{},c)).ondblclick=function(){return o.selecionar_valor(this),!1},this.select.appendChild(u)}}else{var u=criar_elemento("option",{value:"",style:"color:#333; font-style:italic;"},{},"Nenhum registro foi encontrado");this.select.appendChild(u),0==this.num_paginas&&(this.num_paginas=1)}this.cab_pagina.getElementsByTagName("span").item(0).innerHTML="Página "+this.pagina+"/"+this.num_paginas,this.rodape.getElementsByTagName("span").item(0).innerHTML="Total: "+this.num_registros;for(t=0;0<this.select_paginas.options.length;)this.select_paginas.options.remove(t);for(t=1;t<=this.num_paginas;t++){if(t==this.pagina)u=criar_elemento("option",{title:t,value:t,selected:"selected"},{},t);else u=criar_elemento("option",{title:t,value:t},{},t);this.select_paginas.appendChild(u)}return this.select.options.length?(this.select.options[0].selected=!0,this.select.options[0].focus()):this.select.focus(),!0}}function definir_campo_selecao_busca_simples(r){if(r.input_hidden=r.getElementsByTagName("input").item(0),r.input=r.getElementsByTagName("input").item(1),r.div=r.getElementsByTagName("div").item(0),r.select=document.getElementById("opcoes_"+r.id),r.aberto=!1,!(r.select.campo_selecao=r).input)return!1;r.input.cor_atual=r.input.style.color,r.input.autocomplete="off",r.onclick=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},r.input.onclick=function(){return r.aberto?r.ocultar_busca():r.exibir_busca(),!1},r.input.onkeydown=function(e){var t=e?e.keyCode?e.keyCode:e.which:window.event.keyCode;switch(e=e||window.event,t){case 13:return e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&(e.stopPropagation(),e.preventDefault()),!1;case 38:case 40:return r.exibir_busca(),r.select.focus(),r.select.onkeydown(e),!1}return!0},r.input.onkeyup=function(e){var t=e?e.keyCode?e.keyCode:e.which:window.event.keyCode;switch(e=e||window.event,t){case 13:return e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&(e.stopPropagation(),e.preventDefault()),r.selecionar_valor(r.select.options[r.select.selectedIndex]),!1;case 9:case 27:return!0;case 38:case 40:return!0}return r.buscar(),!0},r.input.onblur=function(){""==r.input_hidden.value?(r.input.style.color="#c00",r.input.title="Valor inválido, clique para visualizar os valores disponíveis"):(r.input.style.color=r.input.cor_atual,r.input.title="Clique para visualizar os valores disponíveis")},r.select.onclick=function(){0<=this.selectedIndex&&r.selecionar_valor(this.options[this.selectedIndex],!1)},r.select.onchange=function(){0<=this.selectedIndex&&r.selecionar_valor(this.options[this.selectedIndex],!1)},r.select.ondblclick=function(){return r.selecionar_valor(this.options[this.selectedIndex]),!1},r.select.onkeydown=function(e){var t=e?e.keyCode?e.keyCode:e.which:window.event.keyCode;switch(e=e||window.event,t){case 13:return e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&(e.stopPropagation(),e.preventDefault()),r.selecionar_valor(r.select.options[r.select.selectedIndex]),!1;case 27:return r.ocultar_busca(),r.input.focus(),!1;case 38:return 0!==this.selectedIndex||(r.input.focus(),!1);case 40:return!0;case 9:return r.ocultar_busca(),!0}r.input.focus();var a=r.input.value;return r.input.value="",r.input.value=a,!0},r.selecionar_valor=function(e,t){e?(this.input_hidden.value=e.value,this.input.value=e.innerHTML,this.input.style.color=r.input.cor_atual):(this.input_hidden.value="",this.input.value=""),void 0!==t&&!t||(this.ocultar_busca(),this.input.focus()),"function"==typeof this.input_hidden.onchange&&this.input_hidden.onchange()},r.ocultar_busca=function(){GLB.caixa_selecao_busca=null,this.div.style.display="none",this.aberto=!1},r.exibir_busca=function(){GLB.caixa_selecao_busca&&this.input_hidden.id!=GLB.caixa_selecao_busca.input_hidden.id&&GLB.caixa_selecao_busca.ocultar_busca(),this.div.style.width=this.input.offsetWidth+"px",this.div.style.display="block",this.aberto=!0,(GLB.caixa_selecao_busca=this).select.options.length&&this.select.selectedIndex},r.buscar=function(){var e=this.input.value,t=0,a=-1,i=new RegExp(this.filtrar_valor(e),"i"),n=!1;if(""==e){for(t=0;t<this.select.options.length;t++)this.select.options[t].style.display="block",this.select.options[t].disabled=!1;this.input_hidden.value=""}else for(t=0;t<this.select.options.length;t++)i.test(this.filtrar_valor(this.select.options[t].innerHTML))?(this.input_hidden.value==this.select.options[t].value&&(n=!0),this.select.options[t].style.display="block",this.select.options[t].disabled=!1,a<0&&(a=t)):(this.select.options[t].style.display="none",this.select.options[t].disabled=!0);n||(this.input_hidden.value=""),this.select.selectedIndex=a,r.exibir_busca()},r.filtrar_valor=function(e){for(var t="áàãâäéèêëíìîïóòõôöúùûüçÁÀÃÂÄÉÈÊËÍÌÎÏÓÒÕÖÔÚÙÛÜÇ",a="",i=0;i<e.length;i++)0<=t.indexOf(e.charAt(i))?a+="aaaaaeeeeiiiiooooouuuucAAAAAEEEEIIIIOOOOOUUUUC".substr(t.search(e.substr(i,1)),1):a+=e.substr(i,1);return a.replace(/[^a-zA-Z 0-9]/g,"").toLowerCase()}}function definir_campo_sugestao_completa(e,t,a){e.timer_busca=!1,e.info=document.getElementById(a),e.valor_antigo="",e.setAttribute("autocomplete","off"),e.div=e.nextSibling,e.input=t,e.ajax=new class_ajax,e.limpar_sugestoes=function(){limpar(this.div),this.div.style.display="none"},e.ativar_timer_busca=function(){return this.value==this.valor_antigo||(this.timer_busca&&cancelar_timer(this.timer_busca),this.limpar_sugestoes(),this.valor_antigo=this.value,this.timer_busca=ativar_timer("buscar('"+e.id+"')",1500)),!0},e.buscar=function(){this.disabled=!0;var e=CFG.wwwroot+"webservice/busca_completo.xml.php";return e=adicionar_param(e,"id",this.info.id),e=adicionar_param(e,"busca",this.value),2<this.value.length?(this.div.style.display="block",this.ajax.set_callback([this,"atualizar_itens"]),this.ajax.exibir_carregando(this.div),this.ajax.consultar("GET",e,!0,null)):(limpar(this.div),this.div.style.display="none"),!(this.disabled=!1)},e.atualizar_itens=function(e){var t=e.get_retorno("xml").documentElement.getElementsByTagName("resultado");if(limpar(this.div),0==t.length){var a=document.createTextNode("Resultado(s) Semelhante(s): nenhum");this.div.appendChild(a)}else{a=document.createTextNode("Resultado(s) Semelhante(s): "+t.length);var i=criar_elemento("select",{size:"10"});i.input=this,i.onchange=function(){return o=this.value.split("#"),this.input.value=o[1],this.input.valor_antigo=o[1],this.input.input.value=o[0],!0},i.onkeydown=function(e){var t=e?e.keyCode?e.keyCode:e.which:window.event.keyCode;switch(e=e||window.event,t){case 9:case 13:return o=this.value.split("#"),this.input.value=o[1],this.input.valor_antigo=o[1],this.input.input.value=o[0],this.input.limpar_sugestoes(),this.input.focus(),e.returnValue=!1}return!0};for(var n=t.length,r=0;r<n;r++){var o=t.item(r).getElementsByTagName("valor")[0].firstChild.nodeValue,s=t.item(r).getElementsByTagName("cod")[0].firstChild.nodeValue,l=criar_elemento("option",{title:o,value:s+"#"+o},{},o);l.ondblclick=function(){return this.parentNode.input.limpar_sugestoes(),this.parentNode.input.focus(),!1},i.appendChild(l)}this.div.appendChild(a),this.div.appendChild(i)}var c=criar_elemento("a",{href:"#"},{display:"block"},"Fechar");return c.input=this,c.onclick=function(e){return(e=e||window.event).returnValue=!1,this.input.limpar_sugestoes(),this.input.focus(),!1},c.onkeypress=c.onclick,this.div.appendChild(c),!0},e.onfocus=function(){this.info.style.color="#006600"},e.onblur=function(){this.info.style.color="#000000"},e.onkeydown=function(e){switch(e?e.keyCode?e.keyCode:e.which:window.event.keyCode){case 9:return this.timer_busca&&cancelar_timer(this.timer_busca),!0;case 27:this.timer_busca&&cancelar_timer(this.timer_busca);try{e.returnValue=!1,this.limpar_sugestoes(),this.focus()}catch(e){}return!1;case 13:this.timer_busca&&cancelar_timer(this.timer_busca);try{0<=(t=this.div.getElementsByTagName("select").item(0)).selectedIndex?(e.returnValue=!1,this.value=t.value,this.valor_antigo=this.value,this.limpar_sugestoes(),this.focus()):e.returnValue=!0}catch(e){}return e.returnValue;case 38:try{0<(a=(t=this.div.getElementsByTagName("select").item(0)).selectedIndex)?(t.options[a].selected=!1,t.options[a-1].selected=!0):t.options[0].selected=!0}catch(e){return this.ativar_timer_busca(),!0}return!1;case 40:try{var t,a;0<=(a=(t=this.div.getElementsByTagName("select").item(0)).selectedIndex)&&a<t.options.length-1?(t.options[a].selected=!1,t.options[a+1].selected=!0):t.options[0].selected=!0}catch(e){return this.ativar_timer_busca(),!0}return!1}return this.ativar_timer_busca(),!0}}function buscar(e){var t=document.getElementById(e);t&&t.buscar()}function adicionar_param(e,t,a){var i=e.indexOf("#");if(0<=i){var n=e.substr(i);e=e.substr(0,i)}else n="";return e+=(0<=e.indexOf("?")?"&":"?")+t+"="+encodeURIComponent(a)+n}function remover_params(e,t,a){if(null==a)a="&";var i=e.split("?");if(i.length<=1)return e;if(0<(c=i[1].indexOf("#"))){var n=i[1].substr(c);i[1]=i[1].substr(0,c)}else n="";if(null==t||1==t)return i[0];for(var r=i[1].split(a),o=new Array,s=r.length,l=0;l<s;l++){var c,u=r[l];if(0<=(c=u.indexOf("=")))var d=u.substr(0,c);else d=u;in_array(d,t)||o.push(u)}if(0<o.length)var m=i[0]+"?"+o.join(a)+n;else m=i[0]+n;return m}function get_fragment(e){return pos=e.indexOf("#"),0<=pos?e.substr(pos+1):""}function in_array(e,t){for(var a=t.length,i=0;i<a;i++)if(e==t[i])return!0;return!1}function checar_link(e){var t=e.getAttribute("href");0!=t.indexOf("http")&&(t=CFG.wwwroot+t);var a=adicionar_param(CFG.wwwroot+"webservice/checar_link.xml.php","link",t),i=new class_ajax;i.xmlhttp&&(i.set_callback("checar_link_xml"),i.consultar("GET",a,!0,null,!1))}function checar_link_xml(e){var t=e.get_retorno("xml");if(!t)return!1;try{var a=parseInt(t.documentElement.firstChild.data)}catch(e){try{a=parseInt(t.documentElement.getElementsByTagName("resultado").item(0).firstChild.data)}catch(e){return!1}}switch(a){case 0:case 1:break;case 2:link.style.color="#990000",link.style.textDecoration="line-through";var i=criar_elemento("small",{},{}," (link quebrado)"),n=null!=link.getAttribute("title")?link.getAttribute("title"):link.getAttribute("href"),r=criar_elemento("a",{href:"http://www.google.com.br/search?q="+encodeURIComponent(n),target:"_blank"},{},"Buscar no Google");i.appendChild(r),link.nextSibling?link.parentNode.insertBefore(i,link.nextSibling):link.parentNode.appendChild(i)}return!1}function tirar_visibilidade(e){if(e.hasChildNodes())for(var t=e.getElementsByTagName("*"),a=t.length,i=0;i<a;i++){var n=t.item(i);n.style.visibility="hidden",tirar_visibilidade(n)}}function clonar_tag(e){for(var t=document.createElement(get_tag(e),e.innerHTML),a=e.attributes.length-1;0<=a;a--)t.setAttribute(e.attributes.item(a).name,e.attributes.item(a).value);return t}function juntar_funcoes(e,t){if(!e)return t;e=e.toString(),t=t.toString();var a=e.indexOf("{")+1,i=e.lastIndexOf("}");e=e.substring(a,i);a=t.indexOf("{")+1,i=t.lastIndexOf("}");return t=t.substring(a,i),new Function(t+e)}function get_conteudo(e){var t=new class_ajax;return t.xmlhttp?(t.consultar("GET",e,!1,null),t.get_retorno("text")):""}function criar_elemento(tag,atributos,estilos,texto){var el=!1;try{var el=document.createElement(tag);if(null!=atributos)for(var atributo in atributos){var valor=atributos[atributo];if(null!=valor)switch(atributo){case"id":el.setAttribute(atributo,valor),el.id=valor;break;case"class":el.setAttribute(atributo,valor),definir_classe(el,valor);break;case"disabled":el.setAttribute(atributo,valor),el.disabled=!0;break;case"checked":el.setAttribute(atributo,valor),el.checked=!0;break;case"selected":el.setAttribute(atributo,valor),el.selected=!0;break;default:el.setAttribute(atributo,valor)}}if(null!=estilos)for(var estilo in estilos){var valor=estilos[estilo],codigo="el.style."+estilo+" = '"+valor+"';";eval(codigo)}}catch(e){var conteudo="<"+tag;for(var atributo in atributos){var valor=atributos[atributo];conteudo+=" "+atributo+'="'+valor+'"'}var conteudo_css=new Array;for(var estilo in estilos){var valor=estilos[estilo];conteudo_css.push(estilo+":"+valor)}0<conteudo_css.length&&(conteudo+=' style="'+conteudo_css.join(";")+'"'),conteudo+=">",conteudo+="</"+tag+">";try{var el=document.createElement(conteudo)}catch(e){return!1}}if(null!=texto){var t=document.createTextNode(texto);el.appendChild(t)}return el}function ativar_timer(e,t){var a=window.setTimeout(e,t);return GLB.timers.push(a),a}function cancelar_timer(e){for(var t in window.clearTimeout(e),GLB.timers)if(GLB.timers[t]==e)return void delete GLB.timers[t]}function cancelar_interval(e){for(var t in window.clearInterval(e),GLB.intervals)if(GLB.intervals[t]==e)return void delete GLB.intervals[t]}function ativar_interval(e,t){var a=window.setInterval(e,t);return GLB.intervals.push(a),a}function limpar_timers(){for(var e in GLB.timers)null!=GLB.timers[e]&&window.clearTimeout(GLB.timers[e]);GLB.timers=new Array}function limpar_intervals(){for(var e in GLB.intervals)null!=GLB.intervals[e]&&window.clearInterval(GLB.intervals[e]);GLB.intervals=new Array}GLB.url_inicial=window.location.href,GLB.url_atual="",GLB.timestamp=(new Date).getTime(),GLB.limite_tamanho=500,GLB.ultima_boia=!1,GLB.timers=new Array,GLB.intervals=new Array,GLB.bloqueio_ajax=!1,GLB.executar=new Array,GLB.scripts=new Array,GLB.caixa_selecao_busca=null,GLB.modo_movel=!1,GLB.navegador_ie=!!document.documentMode,GLB.navegador_edge=!GLB.navegador_ie&&!!window.StyleMedia,class_tremer.instancias=new Array,class_piscar.instancias=new Array,class_fechar.instancias=new Array,window.onload=function(){iniciar(!0,!1,!0)};function class_janela_modal(){var n=this;this.pai=null,this.fundo=null,this.caixa=null,this.conteudo=null,this.botao_fechar=null,this.iframe=null,this.visivel=!1,this.recarregar=!1,this.abrir=function(){var a=document.getElementsByTagName("body");return!!a.length&&(n.pai=a.item(0),n.pai.appendChild(n.fundo),n.fundo.style.display="block",n.visivel=!0,GLB.janela_modal_ativa=n,!0)},this.fechar=function(){if(!n.visivel)return!1;if(n.visivel=!1,n.simp_onclose&&n.simp_onclose(),GLB.janela_modal_ativa=null,n.recarregar){var a=criar_elemento("div",{},{color:"#555",textAlign:"center"}),e=criar_elemento("img",{src:CFG.wwwroot+"imgs/icones/carregando.gif"}),i=document.createTextNode(" Carregando...");return null!=e&&a.appendChild(e),a.appendChild(i),n.caixa.innerHTML="",n.caixa.style.width="300px",n.caixa.style.height="auto",n.caixa.style.minHeight="0px",n.caixa.style.minWidth="0px",n.caixa.style.padding="30px",n.caixa.appendChild(a),window.location.reload(),!0}return n.fundo.style.display="none",n.pai.removeChild(n.fundo),!0},this.criar_iframe=function(a){n.iframe=criar_elemento("iframe",{src:a}),n.conteudo.appendChild(n.iframe)},n.fundo=criar_elemento("div",{class:"janela_modal"}),n.caixa=criar_elemento("div",{class:"conteudo"}),n.fundo.appendChild(n.caixa),n.botao_fechar=criar_elemento("span",{class:"fechar",title:"Fechar"}),n.botao_fechar.innerHTML="&times;",n.caixa.appendChild(n.botao_fechar),n.conteudo=criar_elemento("div"),n.caixa.appendChild(n.conteudo),n.botao_fechar.onclick=n.fechar,n.fundo.onclick=function(a){a&&"janela_modal"==a.target.className&&n.fechar()}}GLB.janela_modal_ativa=null;function objeto_redimensionavel(e){return void 0==e?!1:(e.cursor_antigo=e.style.cursor,e.funcao_redimensionar=!1,e.onmouseover=function(t){if(null!=GLB.flutuante)return!1;var o=get_offset(this,t),n=this.offsetWidth-o.x,u=this.offsetHeight-o.y,l=e.cursor_antigo;16>n&&16>u?(l="se-resize",e.funcao_redimensionar=!0):e.funcao_redimensionar=!1,l!=this.style.cursor&&(this.style.cursor=l)},e.onmousedown=function(e){return null==GLB.flutuante&&this.funcao_redimensionar?(GLB.redimensionavel=this,GLB.pos=get_posicao_mouse(e),!1):!1},void 0)}function objeto_movel(e,t){return void 0==e||void 0==t?!1:(e.style.cursor="move",e.style.zIndex=0,e.onmousedown=function(e){if(null!=GLB.flutuante)return!1;if(null!=GLB.obj_foco&&(GLB.obj_foco.style.zIndex=0),GLB.obj_foco=t,GLB.flutuante=t,GLB.offset=get_offset(GLB.flutuante,e),GLB.flutuante.opacity_original=GLB.flutuante.style.opacity,GLB.flutuante.width_original=GLB.flutuante.style.width,void 0!=GLB.flutuante.clonar){var o=GLB.flutuante.parentNode;GLB.clone=GLB.flutuante.cloneNode(!0),GLB.clone.style.display="none",o.insertBefore(GLB.clone,GLB.flutuante),GLB.flutuante.style.width=GLB.flutuante.offsetWidth+"px",GLB.flutuante.style.position="absolute",GLB.clone.style.display="block"}else GLB.flutuante.style.width=GLB.flutuante.offsetWidth-2+"px",GLB.flutuante.style.position="absolute";return GLB.pos=get_posicao_mouse(e),GLB.flutuante.style.top=GLB.pos.y-GLB.offset.y+"px",GLB.flutuante.style.left=GLB.pos.x-GLB.offset.x+"px",GLB.flutuante.style.opacity=void 0!=GLB.flutuante.drag_opacity?GLB.flutuante.drag_opacity:.5,GLB.flutuante.style.zIndex=1,GLB.flutuante.simp_onmousedown&&GLB.flutuante.simp_onmousedown(GLB.pos),!1},!0)}function mover(e){if(GLB.flutuante&&(e=e||window.event,GLB.pos=get_posicao_mouse(e),GLB.flutuante.style.top=GLB.pos.y-GLB.offset.y+"px",GLB.flutuante.style.left=GLB.pos.x-GLB.offset.x+"px",GLB.flutuante.simp_onmove&&GLB.flutuante.simp_onmove(GLB.pos)),GLB.redimensionavel){e=e||window.event;var t=get_posicao_mouse(e),o=GLB.redimensionavel.clientWidth+(t.x-GLB.pos.x);GLB.redimensionavel.style.width=o+"px";var n=GLB.redimensionavel.clientHeight+(t.y-GLB.pos.y);GLB.redimensionavel.style.height=n+"px",GLB.pos=t}return!GLB.flutuante}function soltar(e){if(GLB.flutuante){if(e=e||window.event,GLB.pos=get_posicao_mouse(e),GLB.flutuante.style.opacity=GLB.flutuante.opacity_original,GLB.flutuante.style.width=GLB.flutuante.width_original,GLB.flutuante.style.zIndex=1,void 0!=GLB.flutuante.clonar)try{GLB.flutuante.parentNode.removeChild(GLB.clone)}catch(e){}GLB.flutuante.simp_ondrop&&GLB.flutuante.simp_ondrop(GLB.pos)}GLB.pos=null,GLB.flutuante=null,GLB.clone=null,GLB.offset=null,GLB.redimensionavel=null}function get_posicao_mouse(e){return e=e||window.event,e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:document.body.scrollTop?{x:e.clientX+document.body.scrollLeft-document.body.clientLeft,y:e.clientY+document.body.scrollTop-document.body.clientTop}:{x:e.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:e.clientY+document.documentElement.scrollTop-document.documentElement.clientTop}}function get_posicao(e){for(var t=0,o=0;e.offsetParent;)t+=e.offsetLeft,o+=e.offsetTop,e=e.offsetParent;return t+=e.offsetLeft,o+=e.offsetTop,{x:t,y:o}}function get_offset(e,t){t=t||window.event;var o=get_posicao(e),n=get_posicao_mouse(t);return{x:n.x-o.x,y:n.y-o.y}}document.onmousemove=mover,document.onmouseup=soltar,GLB.pos=null,GLB.offset=null,GLB.flutuante=null,GLB.redimensionavel=null,GLB.obj_foco=null,GLB.clone=null;function mudar_bloco(obj,tag){var div=obj.parentNode.getElementsByTagName(tag).item(0);if(div){if(div.style.display=="none"){div.style.display="block";}else{div.style.display="none";}}return false;}function foco_janela(e){GLB.janela_ativa&&(GLB.janela_ativa.style.zIndex=GLB.janela_ativa.zIndex_original),GLB.janela_ativa=e,GLB.janela_ativa.zIndex_original=GLB.janela_ativa.style.zIndex,GLB.janela_ativa.style.zIndex=1e3}function class_janela(e){var a=this;this.id_janela=e,this.id=class_janela.instancias.length,class_janela.instancias[this.id]=this,this.caixa=null,this.titulo=null,this.pai=null,this.visivel=!1,this.abrir=function(e){if(!a.visivel){if(null==e){var t=document.getElementsByTagName("body");t.length&&(e=t.item(0))}a.pai=e,a.pai.appendChild(a.caixa),a.visivel=!0,foco_janela(a.caixa)}},this.fechar=function(){a.visivel&&(a.pai.removeChild(a.caixa),a.visivel=!1,a.simp_onclose&&a.simp_onclose())},this.set_titulo=function(e){for(var t=a.titulo.getElementsByTagName("div"),i=t.length,n=0;n<i;n++){var l=t.item(n);if("texto"==get_classe(l))return limpar(l),void l.appendChild(document.createTextNode(e))}},this.criar_janela=function(e,t,i,n,l){var r=a.id_janela?a.id_janela:"janela"+a.id;t=Math.max(0,parseInt(t)),i=Math.max(0,parseInt(i)),n=Math.abs(parseInt(n)),l=Math.abs(parseInt(l)),a.caixa=criar_elemento("div",{class:"caixa",id:r}),t&&(a.caixa.style.left=t+"px"),i&&(a.caixa.style.top=i+"px"),n&&(a.caixa.style.width=n+"px"),l&&(a.caixa.style.height=l+"px"),a.titulo=criar_elemento("h2",{class:"titulo"});var o=criar_elemento("div",{class:"texto"},{},e),s=criar_elemento("div",{class:"botoes"});a.bt_fechar=criar_elemento("a",{class:"bt_fechar"},{},"fechar"),s.appendChild(a.bt_fechar),a.titulo.appendChild(o),a.titulo.appendChild(s);var c=criar_elemento("div",{},{clear:"both"});return a.titulo.appendChild(c),a.caixa.appendChild(a.titulo),a.caixa.onmousedown=function(){foco_janela(a.caixa)},a.bt_fechar.onmousedown=function(){a.bt_fechar.style.borderStyle="inset"},a.bt_fechar.onmouseup=function(){a.bt_fechar.style.borderStyle="outset"},a.bt_fechar.onclick=a.fechar,objeto_movel(a.titulo,a.caixa),objeto_redimensionavel(a.caixa),a.caixa}}function class_seletor(e){var a=this;this.id=class_seletor.instancias.length,class_seletor.instancias[this.id]=this,this.link=e,this.url=e.getAttribute("href"),this.input=e.parentNode.getElementsByTagName("input").item(0),this.ultima_busca="",this.seletor=null,this.timer_filtro=null,this.ajax=new class_ajax,this.mudar_item=function(e){switch(e?e.keyCode?e.keyCode:e.which:window.event.keyCode){case 13:if((i=a.seletor.itens.firstChild).selectedIndex>=0){var t=i.options[i.selectedIndex];a.input.value=t.codigo,a.seletor.janela.fechar();try{a.input.focus(),a.input.select()}catch(e){}}else{window.confirm("Nenhum item selecionado.\nVocê deseja limpar o campo de busca e procurar algum?")&&(a.seletor.input_busca.value="",filtrar_seletor(a.id),a.marcar(!0))}return!1;case 38:if((i=a.seletor.itens.firstChild).selectedIndex>=0)for(t=(n=i.options[i.selectedIndex]).previousSibling;t;){if(t.visivel)return n.selected=!1,t.selected=!0,!1;t=t.previousSibling}return!1;case 40:var i,n;if((i=a.seletor.itens.firstChild).selectedIndex>=0)for(t=(n=i.options[i.selectedIndex]).nextSibling;t;){if(t.visivel)return n.selected=!1,t.selected=!0,!1;t=t.nextSibling}else for(var l=i.options.length,r=0;r<l;r++){if((t=i.options[r]).visivel)return t.selected=!0,!1}return!1;case 27:a.seletor.janela.fechar();try{a.input.focus(),a.input.select()}catch(e){}return!1;default:a.ativar_timer_filtro()}return!0},this.atualizar_itens=function(e){limpar(a.seletor.itens);var t=criar_elemento("select",{size:"15"});t.onkeydown=a.mudar_item;for(var i=e.get_retorno("xml").documentElement.getElementsByTagName("entidade"),n=i.length,l=0;l<n;l++){var r=i.item(l),o=r.getElementsByTagName("codigo").item(0).firstChild.nodeValue,s=r.getElementsByTagName("valor").item(0).firstChild.nodeValue,c=o+": "+s,d=criar_elemento("option",{title:s},{},c);d.pos=l,d.visivel=!0,d.codigo=o,d.valor=s,d.texto_exibido=c.toLowerCase(),d.ondblclick=function(){a.input.value=this.codigo,a.seletor.janela.fechar();try{a.input.focus(),a.input.select()}catch(e){}},t.appendChild(d)}a.seletor.itens.appendChild(t),a.seletor.input_busca.disabled=!1;try{a.seletor.input_busca.focus(),a.seletor.input_busca.select()}catch(e){}filtrar_seletor(a.id)},this.ativar_timer_filtro=function(){a.timer_filtro&&cancelar_timer(a.timer_filtro),a.timer_filtro=ativar_timer("filtrar_seletor('"+a.id+"')",1e3)},this.criar_caixa=function(t){var i=new class_janela,n=i.criar_janela("Selecione um item",t.x-230,t.y-150),l=criar_elemento("div",{class:"busca"});l.link=e;var r="busca_seletor_"+a.id,o=criar_elemento("label",{id:r,for:r},{},"Busca"),s=criar_elemento("input",{type:"text",maxlength:"40",disabled:"disabled",class:"input_busca",id:r});s.onkeydown=a.mudar_item;var c=criar_elemento("img",{class:"bt_atualizar",alt:"Atualizar Lista",src:CFG.wwwroot+"imgs/icones/atualizar.gif"});c.pode=3,c.onclick=function(){return a.seletor.input_busca.disabled?(window.alert("Aguarde o carregamento dos dados."),!1):(this.pode--,this.pode>0?(a.seletor.input_busca.disabled=!0,a.carregar_itens()):(window.alert("Atenção: você clicou em atualizar 3 vezes.\nEsta operação consome recursos e deve ser utilizada com moderação."),this.parentNode.removeChild(this)),!0)},l.appendChild(o),l.appendChild(s),l.appendChild(c);var d=criar_elemento("div",{class:"itens"});n.appendChild(l),n.appendChild(d),a.seletor={janela:i,itens:d,input_busca:s}},this.carregar_itens=function(){a.ajax.set_callback([a,"atualizar_itens"]),a.ajax.exibir_carregando(a.seletor.itens),a.ajax.consultar("GET",a.url,!0,null)},this.link.onclick=function(e){if((e=e||window.event).returnValue=!1,!a.ajax.xmlhttp){var t=adicionar_param(a.url,"input",a.input.id);return window.open(t,"Busca","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, width=500, height=400"),!1}if(null==a.seletor){var i=get_posicao_mouse(e);a.criar_caixa(i),a.carregar_itens()}a.seletor.janela.abrir(document.getElementsByTagName("body").item(0));try{a.seletor.input_busca.focus(),a.seletor.input_busca.select()}catch(e){}return!1}}function filtrar_seletor(e){try{var a=class_seletor.instancias[e]}catch(e){return!1}var t=a.seletor.input_busca.value.toLowerCase();if(t==a.ultima_busca)return!1;a.ultima_busca=t,a.seletor.input_busca.disabled=!0;var i=a.seletor.itens.firstChild;if(0==t.length){a.seletor.itens.style.display="none";for(var n=i.options.length-1;n>=0;n--){(r=i.options[n]).visivel||(r.visivel=!0,r.style.display="block")}return i.selectedIndex>=0&&(i.options[i.selectedIndex].selected=!1),i.options.length>0&&(i.options[0].selected=!0),a.seletor.itens.style.display="block",a.seletor.input_busca.disabled=!1,!1}a.seletor.itens.style.display="none";for(n=i.options.length-1;n>=0;n--){(r=i.options[n]).texto_exibido.indexOf(t)<0?(r.visivel=!1,r.style.display="none"):(r.visivel=!0,r.style.display="block")}if(i.selectedIndex>=0){i.options[i.selectedIndex].selected=!1;var l=i.options.length;for(n=0;n<l;n++){var r;if((r=i.options[n]).visivel){r.selected=!0;break}}}a.seletor.itens.style.display="block",a.seletor.input_busca.disabled=!1}function class_hierarquia(e){var a=this;this.id=class_hierarquia.instancias.length,class_hierarquia.instancias[this.id]=this,this.nivel=0,a.ul=null,a.pai=null,this.link=e,this.url=e.getAttribute("href"),this.ws=CFG.wwwroot+"webservice/hierarquia.xml.php",this.input=e.parentNode.getElementsByTagName("input").item(0),this.seletor=null,this.ajax=new class_ajax,this.set_status=function(e){var t=document.createTextNode(e);limpar(a.seletor.status),a.seletor.status.appendChild(t)},this.set_botao=function(e,a){switch(a){case"+":e.setAttribute("src",CFG.wwwroot+"imgs/icones/mais.gif"),e.setAttribute("alt","+"),e.setAttribute("title","Abrir Grupo");break;case"-":e.setAttribute("src",CFG.wwwroot+"imgs/icones/menos.gif"),e.setAttribute("alt","-"),e.setAttribute("title","Fechar Grupo")}},this.atualizar_itens=function(e){for(var t=e.get_retorno("xml").documentElement.getElementsByTagName("item"),i=criar_elemento("ul",{class:"hierarquia"}),n=t.length,l=0;l<n;l++){var r=t.item(l),o=r.getAttribute("nome"),s=r.getAttribute("valor"),c=parseInt(r.getAttribute("eh_grupo")),d=criar_elemento("li");d.nome=o,d.valor=s,d.nivel=a.nivel,d.posicao=l;var u=criar_elemento("span",{class:"lb"},{}," "),m=criar_elemento("span");l<t.length-1&&definir_classe(m,"l");var h=criar_elemento("span",{class:"valor"});if(m.appendChild(h),d.appendChild(u),d.appendChild(m),1==c){var _=criar_elemento("img",{class:"bt_expandir"});_.linha=d,_.linha_valor=h,a.set_botao(_,"+"),_.onmouseover=function(){"+"==this.getAttribute("alt")?a.set_status("Clique para abrir o Grupo"):a.set_status("Clique para fechar o Grupo")},_.onmouseout=function(){a.set_status("")},_.onclick=function(){for(var e=this.nextSibling;e&&"ul"!=e.nodeName.toLowerCase();)e=e.nextSibling;if(e)e.style.display="none"==e.style.display?"block":"none",a.set_botao(this,"none"==e.style.display?"+":"-");else{a.pai=this.linha_valor,a.nivel+=1;for(var t=adicionar_param(a.ws,"link",a.url),i=this.linha;i.nivel>=0;)t=adicionar_param(t,"a["+i.nivel+"]",i.posicao),i=i.parentNode.parentNode.parentNode.parentNode;a.set_status("Carregando..."),a.ajax.set_callback([a,"atualizar_itens"]),a.ajax.consultar("GET",t,!0,null),a.set_botao(this,"-")}this.onmouseover()},h.appendChild(_)}if(s){var p=criar_elemento("a",{title:"Selecionar"});p.linha=d;var g=document.createTextNode(s+": "+o);p.onmouseover=function(){a.set_status("Clique para selecionar o item")},p.onmouseout=function(){a.set_status("")},p.onclick=function(){a.input.value=this.linha.valor,a.seletor.janela.fechar();try{a.input.focus(),a.input.select()}catch(e){}},p.appendChild(g),h.appendChild(p)}else{var v=criar_elemento("strong",{},{},o);v.linha=d,h.appendChild(v)}i.appendChild(d)}t.length&&a.pai.appendChild(i),a.set_status("Itens carregados")},this.carregar_itens=function(){var e=adicionar_param(a.ws,"link",a.url);a.pai=a.seletor.itens,a.nivel=0,a.ajax.set_callback([a,"atualizar_itens"]),a.ajax.exibir_carregando(a.seletor.itens),a.ajax.consultar("GET",e,!0,null)},this.criar_caixa=function(e){var t=new class_janela,i=t.criar_janela("Selecione um item",e.x-200,e.y-100,400),n=criar_elemento("div",{class:"itens_hierarquico"}),l=criar_elemento("div",{class:"status"});i.appendChild(n),i.appendChild(l),a.seletor={janela:t,itens:n,status:l}},this.link.onclick=function(e){if((e=e||window.event).returnValue=!1,!a.ajax.xmlhttp){var t=a.ws;return t=adicionar_param(t,"link",a.url),t=adicionar_param(t,"input",a.input.id),window.open(t,"Busca","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, width=500, height=400"),!1}if(null==a.seletor){var i=get_posicao_mouse(e);a.criar_caixa(i),a.carregar_itens()}return a.seletor.janela.abrir(document.getElementsByTagName("body").item(0)),!1}}function class_calendario(e){var a=this;this.id=class_calendario.instancias.length,class_calendario.instancias[this.id]=this,this.div_form=e,this.seletor={janela:null,area_calendario:null},this.link=null,this.mes=0,this.ano=0,this.min_ano=0,this.max_ano=0,this.pode_vazio=!1,this.get=function(e){switch(e){case 0:case 1:return a.div_form.getElementsByTagName("select").item(e).value;case 2:var t=a.div_form.getElementsByTagName("select");return 3==t.length?t.item(2).value:a.div_form.getElementsByTagName("input").item(0).value}return!1},this.get_min_ano=function(){var e=a.div_form.getElementsByTagName("select");if(3!=e.length)return 0;var t=e.item(2).getElementsByTagName("option");return a.pode_vazio?t.item(1).value:t.item(0).value},this.get_max_ano=function(){var e=a.div_form.getElementsByTagName("select");if(3!=e.length)return(new Date).getFullYear()+500;var t=e.item(2).getElementsByTagName("option");return t.item(t.length-1).value},this.definir_dia=function(e,t){e.style.cursor="pointer",e.onmouseover=function(){this.style.outline="1px outset #FFFFFF",this.style.backgroundColor="#FFFFFF"},e.onmouseout=function(){this.style.outline="none",this.style.backgroundColor="transparent"},e.onclick=function(){this.style.outline="none",this.style.backgroundColor="transparent";var e=a.div_form.getElementsByTagName("select");e.item(0).value=t,e.item(0).onchange&&e.item(0).onchange(),e.item(1).value=a.mes+1,e.item(1).onchange&&e.item(1).onchange(),3==e.length?(e.item(2).value=a.ano,e.item(2).onchange&&e.item(2).onchange()):a.div_form.getElementsByTagName("input").item(0).value=a.ano,a.seletor.janela.fechar(),a.div_form.getElementsByTagName("select").item(0).focus()}},this.set_mes_ano=function(){var e=new Date,t=e.getMonth(),i=e.getFullYear();0==a.get(1)?a.mes=t:a.mes=a.get(1)-1,0==a.get(2)?a.ano=i:a.ano=a.get(2),a.min_ano=a.get_min_ano(),a.max_ano=a.get_max_ano()},this.criar_caixa=function(e){var t=new class_janela,i=t.criar_janela("Selecione uma data",e.x-200,e.y-100,250,"auto");a.seletor.area_calendario=criar_elemento("div"),i.appendChild(a.seletor.area_calendario),a.atualizar_calendario(a.mes,a.ano),a.seletor.janela=t},this.atualizar_calendario=function(){var e=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],t=new Date(a.ano,a.mes,1),i=new Date(a.ano,a.mes+1,0),n=criar_elemento("table",{class:"calendario"},{margin:"3px auto 5px auto"}),l=criar_elemento("thead"),r=criar_elemento("tbody");n.appendChild(l),n.appendChild(r);var o=criar_elemento("tr"),s=criar_elemento("th"),c=criar_elemento("a",{class:"seta"},{},"←");s.appendChild(c),o.appendChild(s),s.onclick=function(){a.mes--,-1==a.mes&&(a.mes=11,a.ano>a.min_ano?a.ano--:a.ano=a.max_ano),a.atualizar_calendario()};s=criar_elemento("th",{colspan:"5",class:"titulo_calendario"},{},["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][a.mes]+"/"+a.ano);o.appendChild(s);s=criar_elemento("th"),c=criar_elemento("a",{class:"seta"},{},"→");s.appendChild(c),o.appendChild(s),s.onclick=function(){a.mes++,12==a.mes&&(a.mes=0,a.ano<a.max_ano?a.ano++:a.ano=a.min_ano),a.atualizar_calendario()},l.appendChild(o),o=criar_elemento("tr");for(var d=0;d<7;d++){s=criar_elemento("th",{},{width:"2em"},e[d]);o.appendChild(s)}l.appendChild(o),o=criar_elemento("tr");for(d=1;d<=t.getDay();d++){var u=criar_elemento("td");o.appendChild(u)}for(d=1;d<=7-t.getDay();d++){u=criar_elemento("td",{},{},d);o.appendChild(u),a.definir_dia(u,d)}for(r.appendChild(o);d<=i.getDate();){o=criar_elemento("tr");for(var m=0;m<=6;m++){u=criar_elemento("td");if(d<=i.getDate()){var h=document.createTextNode(d);u.appendChild(h),a.definir_dia(u,d)}o.appendChild(u),d++}r.appendChild(o)}a.seletor.area_calendario.style.textAlign="center",a.seletor.area_calendario.style.border="1px solid #CCCCCC",limpar(a.seletor.area_calendario),a.seletor.area_calendario.appendChild(n);var _=criar_elemento("div",{},{fontSize:"small"},"Atalhos: "),p=criar_elemento("a",{},{},"Hoje");if(p.onclick=function(){var e=new Date,t=a.div_form.getElementsByTagName("select");t.item(0).value=e.getDate(),t.item(0).onchange&&t.item(0).onchange(),t.item(1).value=e.getMonth()+1,t.item(1).onchange&&t.item(1).onchange(),3==t.length?(t.item(2).value=e.getFullYear(),t.item(2).onchange&&t.item(2).onchange()):a.div_form.getElementsByTagName("input").item(0).value=e.getFullYear(),a.seletor.janela.fechar(),a.div_form.getElementsByTagName("select").item(0).focus()},_.appendChild(p),a.pode_vazio){var g=criar_elemento("a",{},{},"Nenhum");g.onclick=function(){var e=a.div_form.getElementsByTagName("select");e.item(0).value=0,e.item(0).onchange&&e.item(0).onchange(),e.item(1).value=0,e.item(1).onchange&&e.item(1).onchange(),3==e.length?(e.item(2).value=0,e.item(2).onchange&&e.item(2).onchange()):a.div_form.getElementsByTagName("input").item(0).value=0,a.seletor.janela.fechar(),a.div_form.getElementsByTagName("select").item(0).focus()},_.appendChild(document.createTextNode(" | ")),_.appendChild(g)}a.seletor.area_calendario.appendChild(_)},this.abrir_calendario=function(e){if(a.set_mes_ano(),null==a.seletor.janela){var t=get_posicao_mouse(e);a.criar_caixa(t)}else a.atualizar_calendario();a.seletor.janela.abrir(document.getElementsByTagName("body").item(0))},this.adicionar_link=function(){for(var e=CFG.wwwroot+"layout/calendario.css",t=document.getElementsByTagName("head").item(0),i=!0,n=0;n<t.childNodes.length;n++){var l=t.childNodes.item(n);if(1==l.nodeType&&null!=l.rel&&"stylesheet"==l.rel&&l.href==e){i=!1;break}}if(i){var r=criar_elemento("link",{rel:"stylesheet",type:"text/css",media:"screen",href:e});document.getElementsByTagName("head").item(0).appendChild(r)}var o="Selecionar pelo Calendário";a.link=criar_elemento("img",{src:CFG.wwwroot+"imgs/icones/calendario.gif",alt:o,title:o},{cursor:"pointer",verticalAlign:"middle",marginLeft:"2px"}),a.link.onclick=a.abrir_calendario;var s=a.div_form.getElementsByTagName("img");if(s.length>0&&a.div_form.removeChild(s.item(0)),a.div_form.appendChild(a.link),a.pode_vazio=0==a.div_form.getElementsByTagName("select").item(0).getElementsByTagName("option").item(0).value,a.pode_vazio){o="Nenhuma data";var c=criar_elemento("img",{src:CFG.wwwroot+"imgs/icones/cancelar.gif",alt:o,title:o},{cursor:"pointer",verticalAlign:"middle",marginLeft:"2px"});c.onclick=function(){var e=a.div_form.getElementsByTagName("select");e.item(0).value=0,e.item(0).onchange&&e.item(0).onchange(),e.item(1).value=0,e.item(1).onchange&&e.item(1).onchange(),3==e.length?(e.item(2).value=0,e.item(2).onchange&&e.item(2).onchange()):a.div_form.getElementsByTagName("input").item(0).value=0},a.div_form.appendChild(c)}},this.adicionar_link()}function class_popup(e){var a=this;this.id=class_popup.instancias.length,class_popup.instancias[this.id]=this,this.link=e,this.url=null,this.janela=null,this.area_conteudo=null,this.ajax=new class_ajax,this.criar_caixa=function(e){var t=new class_janela,i=a.link.text.substr(0,40);i!=a.link.text&&(i+="...");var n=t.criar_janela(i,e.x-450,e.y-300,450,300);a.area_conteudo=criar_elemento("div",{class:"conteudo"}),n.appendChild(a.area_conteudo),a.janela=t},this.atualizar_conteudo=function(e){limpar(a.area_conteudo);var t=e.get_retorno("xml").getElementById("conteudo_popup");t.style.width="auto";for(var i=t.getElementsByTagName("*"),n=i.length,l=0;l<n;l++)i.item(l).style.width="auto",i.item(l).style.margin="0";try{document.importNode(t,!0),a.area_conteudo.appendChild(t)}catch(e){a.area_conteudo.innerHTML=t.innerHTML}},this.carregar_conteudo=function(){var e=adicionar_param(a.url,"xml","1");a.ajax.set_callback([a,"atualizar_conteudo"]),a.ajax.exibir_carregando(a.area_conteudo),a.ajax.consultar("GET",e,!0,null)},this.abrir_popup=function(e){if(null==a.janela){var t=get_posicao_mouse(e);a.criar_caixa(t),a.carregar_conteudo()}return a.janela.abrir(document.getElementsByTagName("body").item(0)),!1},this.definir_link=function(){a.ajax.xmlhttp&&null==a.url&&(a.url=a.link.getAttribute("href"),a.link.onclick=a.abrir_popup)},this.definir_link()}GLB.janela_ativa=null,class_janela.instancias=new Array,class_seletor.instancias=new Array,class_hierarquia.instancias=new Array,class_calendario.instancias=new Array,class_popup.instancias=new Array;for(var local in CFG.localidades){var decimal=CFG.localidades[local].decimal,milhar=CFG.localidades[local].milhar;for(var exp in CFG.exp[local])switch(exp){case"letras":CFG.exp[local][exp].filtros={translation:{x:{pattern:/[a-zA-Z]/,recursive:!0}}};break;case"moeda":CFG.exp[local][exp].filtros={reverse:!0,translation:{"#":{pattern:/-|\d/,recursive:!0},0:{pattern:/-|\d/}},onChange:function(e,a){var l=a.target,r=l.selectionStart;a.target.value=e.replace(/(?!^)-/g,""),""!=milhar&&(a.target.value=a.target.value.replace(new RegExp("^\\"+milhar),"").replace(new RegExp("^-\\"+milhar),"-")),l.selectionEnd=r}};break;case"int":CFG.exp[local][exp].filtros={translation:{"#":{pattern:""!=milhar?new RegExp("-|\\"+milhar+"|\\d"):/-|\d/,recursive:!0}},onChange:function(e,a){var l=a.target,r=l.selectionStart;a.target.value=e.replace(/(?!^)-/g,""),""!=milhar&&(a.target.value=a.target.value.replace(new RegExp("^\\"+milhar),"").replace(new RegExp("^-\\"+milhar),"-")),l.selectionEnd=r}};break;case"uint":CFG.exp[local][exp].filtros={translation:{"#":{pattern:""!=milhar?new RegExp("\\"+milhar+"|\\d"):/\d/,recursive:!0}}};break;case"float":CFG.exp[local][exp].filtros={translation:{"#":{pattern:""!=milhar?new RegExp("\\-|\\"+milhar+"|\\"+decimal+"|\\d"):new RegExp("\\-|\\"+decimal+"|\\d"),recursive:!0}},onChange:function(e,a){var l=a.target,r=l.selectionStart;a.target.value=e.replace(/(?!^)-/g,""),a.target.value=a.target.value.replace(new RegExp("^\\"+decimal),"").replace(new RegExp("^-\\"+decimal),"-"),""!=milhar&&(a.target.value=a.target.value.replace(new RegExp("^\\"+milhar),"").replace(new RegExp("^-\\"+milhar),"-")),l.selectionEnd=r}};break;case"ufloat":CFG.exp[local][exp].filtros={translation:{"#":{pattern:""!=milhar?new RegExp("\\"+milhar+"|\\"+decimal+"|\\d"):new RegExp("\\"+decimal+"|\\d"),recursive:!0}},onChange:function(e,a){var l=a.target,r=l.selectionStart;a.target.value=e.replace(new RegExp("^\\"+decimal),""),""!=milhar&&(a.target.value=a.target.value.replace(new RegExp("^\\"+milhar),"")),l.selectionEnd=r}};break;case"telefone":CFG.exp[local][exp].filtros={translation:{0:{pattern:/\d/},X:{pattern:/[0-9\(\)\s\-\+]/,recursive:!0}},onKeyPress:function(e,a,l,r){var t,n=["(00) 0000-00000","(00) 00000-00000","+00 (00) 0000-00000","+00 (00) 00000-0000"],i=e.length-e.replace(/\d/g,"").length;for(var c in n){var p=n[c].length-n[c].replace(/\d/g,"").length;if(t=n[c],i<p)break}l.mask(t,r)}};break;default:CFG.exp[local][exp].filtros=null;continue}}